<div class="navbar navbar-app navbar-absolute-top">
    <div class="navbar-brand navbar-brand-center">
        NRC方案制定
    </div>
    <div class="btn-group btn-group-left">
        <div class="btn" ng-click="go('back')">
            <i class="icon-maoc icon-back"></i>
        </div>
    </div>
</div>
<div class="scrollable-content fixed-his">
    <div style="border-bottom: 0.5px solid #eee;" class="acSta" ng-click=" showInfo = !showInfo">
        开卡信息
        <div class="next-fault-info icon-maoc icon-next-flight " ng-class="{'active':showInfo}"></div>
    </div>
    <form name="baseForm" novalidate ng-show = "showInfo">
       <div class="damage-draft-detail">
           <div class="section-1">
               <div class="header">基础信息</div>
               <div class="item">
                   <div class="title" style="width: 35%!important;">
                       <span class="">来源</span>
                   </div>
                   <div class="right" style="width: 63% !important;">
                       <label><input  type="radio" name="way" value="1" ng-click="selectAirEngine()" ng-model="info.basic.source" ng-checked="info.basic.source==1">飞机</label>
                       <label><input    type="radio" name="way" value="2" disabled="disabled" ng-click="selectAirEngine()" ng-model="info.basic.source" ng-checked="info.basic.source==2">发动机</label>
                   </div>

               </div>
<!--               <flight-no info="info.basic.flightNoInfo"></flight-no>-->
               <div class="item">
                   <div class="title">
                       <span>飞机号</span>
                       <span class="red">*</span>
                   </div>
                   <input class="right" ng-model="info.basic.flightNoInfo.label" type="text" readonly placeholder="">
               </div>
               <div class="item">
                   <span class="title">机型</span>
                   <input class="right" ng-model="info.basic.flightNoInfo.pid" type="text" readonly placeholder="">
               </div>
               <div class="item">
                   <div class="title">
                       <span class="">Skill</span>
                       <span class="red">*</span>
                   </div>
                   <div class="right">
                       <div class="check-method">
                          <span ng-repeat="item in info.basic.skills" ng-if="item.value == info.basic.skill">
                              {{item.name}}
                          </span>
                           <select ng-model="info.basic.skill" required>
                               <option ng-repeat="item in info.basic.skills" value="{{item.value}}" ng-selected="item.value== info.basic.skill">{{item.name}}</option>

<!--                               <option value="">请选择</option>-->
<!--                               <option value="1">ME</option>-->
<!--                               <option value="2">AV</option>-->
<!--                               <option value="3">STR</option>-->
                           </select>
                       </div>
                       <img class="triangle" style="width: 10px" src="dist/images/oil/Shape1@2x.png">
                   </div>
               </div>
               <div class="item">
                   <span class="title">STA/ZONE</span>
                   <input class="right" ng-model="info.basic.zone" type="text" placeholder="请填写">
               </div>
               <div class="item">
                   <div class="title">
                       <span class="">ITEM CAT</span>
                       <span class="red">*</span>
                   </div>
                   <div class="right">
                       <div class="check-method">
                          <span ng-repeat="item in info.basic.itemcats" ng-if="item.value == info.basic.itemcat">
                              {{item.name}}
                          </span>
                           <select ng-model="info.basic.itemcat" required>
                               <option ng-repeat="item in info.basic.itemcats" value="{{item.value}}" ng-selected="item.value== info.basic.itemcat">{{item.name}}</option>
<!--                               <option value="">请选择</option>-->
<!--                               <option value="1">STRUCTURE</option>-->
<!--                               <option value="2">MINOR DEFECT</option>-->
<!--                               <option value="3">CHK/SVC</option>-->
                           </select>
                       </div>
                       <img class="triangle" style="width: 10px" src="dist/images/oil/Shape1@2x.png">
                   </div>
               </div>

               <div class="item">
                   <div class="title" style="width: 35%!important;">
                       <span class="">外观是否可见<span class="red">*</span></span>
                   </div>
                   <div class="right" style="width: 63% !important;">
                       <label><input  type="radio" name="seen" value="y" ng-model="info.basic.cansee" ng-checked="info.basic.cansee==1">YES</label>
                       <label><input  type="radio" name="seen" value="n" ng-model="info.basic.cansee" ng-checked="info.basic.cansee==2">NO</label>
                   </div>

               </div>

               <div class="item">
                   <div class="title">
                       <span class="">报告者</span>
                       <span class="red">*</span>
                   </div>
                   <div class="right ipt">
                       <select-person is-required="false" show-title="false" person-info="info.mech" is-auto-loginercode="true"></select-person>
                   </div>

               </div>
               <div class="item" style="overflow: hidden;padding-right: 0">
                   <div class="title" style="width: 35%!important;">
                       <span class="">报告日期</span>
                       <span class="red">*</span>
                   </div>
                   <div class="right" style="width: 63%!important;overflow: hidden;text-align: right">
                       <div class="check-method">

                           <input style="padding-left:0;width: 12em" ng-if="!android"   name="dateFound" type="datetime-local" class="fount-date" ng-model="info.basic.drDate" step="1800">
                           <input style="padding-left:0;width: 12em" ng-if="android"   name="dateFound" type="datetime-local" class="fount-date"  ng-model="info.basic.drDate" step="1800">
<!--                           <input type="text" class="form-control isBeginDateChanged"  value="{{startDate | date:'MM/dd HH:mm'}}">-->
                       </div>
                       <img class="triangle" style="width: 10px" src="dist/images/oil/Shape1@2x.png">

                   </div>
               </div>
           </div>
           <div class="section-2">
               <div class="header">工卡来源</div>
               <div class="item">
                   <div class="title">
                       <span class="">工卡类型</span>
                       <span class="red">*</span>
                   </div>
                   <div class="right">
                       <div class="check-method" style="position: relative;">
                           <div ng-show="createMark == 'SYSTEM'" style="width: 100%;height: 100%;position: absolute;top: 0;left: 0;opacity: 0;z-index: 9"></div>
                          <span ng-repeat="item in info.cardList" ng-if="item.value == info.card.cardType">
                              {{item.name}}
                          </span>
                           <select ng-model="info.card.cardType" required>
                               <option value="">请选择</option>
                               <option value="TLB">TLB</option>
                               <option value="NRC">NRC</option>
                               <option value="JC">JC</option>
                               <option value="OTHERS">OTHERS</option>
                           </select>
                       </div>
                       <img class="triangle" style="width: 10px" src="dist/images/oil/Shape1@2x.png">
                   </div>
               </div>
               <div class="item">
                   <div class="title" style="width: 30%;">
                       <span class="">工卡编号</span>
                       <span class="red">*</span>
                   </div>
                   <div class="right" style="width: 65%;">

                       <input style="display: inline-block;margin-right: 1rem;text-align: right;width: 90%" ng-readonly="createMark == 'SYSTEM'"   ng-model="info.card.cardNumber" type="text"  placeholder="请填写工卡号">
                       <i style="top: 7px;" class="tlb-scan tlb-img" ng-if ="info.card.cardType == 'JC' || info.card.cardType == 'NRC'" ng-click="scan()"></i>

                   </div>
               </div>
           </div>
           <div class="section-2">
               <div class="header">故障缺陷或者原因描述</div>
               <div class="textarea-item">
                   <div class="title">
                       <span>中文描述</span>
                   </div>
                   <div>
                       <textarea ng-model="info.basic.cnDescribe"></textarea>
                   </div>
                   <div class="line"></div>
               </div>
               <div class="textarea-item">
                   <div class="title">
                       <span>English</span>
                   </div>
                   <div>
                       <textarea ng-model="info.basic.enDescribe"></textarea>
                   </div>
               </div>

           </div>
            <div class="section-3">
                <div class="tlb-oil-wrapper">
                    <oil-ewis  edit="isCreatTLB"
                               is-has-ewis="oilEwisInfo.isHasEwis" ewis-show="oilEwisInfo.showEwis"
                               ewis-state="oilEwisInfo.ewisState" ewis-dto="oilEwisInfo.ewisDTO"
                               ewis-index="oilEwisInfo.selectedEwisIndex" ewis-info="oilEwisInfo.ewisInfo"
                               is-has-oil="oilEwisInfo.isHasOil" oil-show="oilEwisInfo.showOil"
                               oil-state="oilEwisInfo.oilState" oil-dto="oilEwisInfo.oilDTO"
                               oil-index="oilEwisInfo.selectedOilIndex" oil-info="oilEwisInfo.oilInfo"
                    ></oil-ewis>
                </div>
            </div>

           <div class="section-4">
               <div class="p-image">
                   <img-select  img-arr="imgArr" file-arr="fileArr" del-img-id="delImgId"  attachvo="attachvo"></img-select>
               </div>
<!--               <div class="item" style="border-top:1px solid #E6E6E6;">-->
<!--                   <div class="title">-->
<!--                       <span class="">方案制定人</span>-->
<!--                       <span class="red">*</span>-->
<!--                   </div>-->
<!--                   <div class="right ipt">-->
<!--                       <select-person is-required="true"  person-info="info.report"></select-person>-->
<!--                   </div>-->
<!--               </div>-->

           </div>
       </div>
    </form>

    <form name="proForm" novalidate>
        <div class="damage-draft-detail">
            <div class="section-1">
                <div class="header">基础信息</div>
<!--                <div class="item">-->
<!--&lt;!&ndash;                    <select-ata ata-info="info.program.ata"></select-ata>&ndash;&gt;-->
<!--                    <div class="title">-->
<!--                        <span>ATA</span>-->
<!--                        <span class="red">*</span>-->
<!--                    </div>-->
<!--                    <input class="right" ng-model="info.program.ata" maxlength="4" type="tel"  placeholder="请填写ATA">-->

<!--                </div>-->
                <div class="item" style="padding-bottom: .1rem;padding-top: .2rem;">
                    <select-ata-title ata-info="info.program.ata" model="modelForAta" engine="engineForAta"></select-ata-title>
                </div>
                <div class="item">
                    <div class="title" style="width: 35%!important;">
                        <span class="">RII</span>
                        <span class="red">*</span>
                    </div>
                    <div class="right" style="width: 63% !important;">
                        <label><input  type="radio" name="rii" value="y" ng-model="info.program.rii" ng-checked="info.program.rii=='y'">YES</label>
                        <label><input    type="radio" name="rii" value="n"  ng-model="info.program.rii" ng-checked="info.program.rii=='n'">NO</label>
                    </div>
                </div>
                <div class="item">
                    <div class="title" style="width: 35%!important;">
                        <span class="">RCI</span>
                        <span class="red">*</span>
                    </div>
                    <div class="right" style="width: 63% !important;">
                        <label><input  type="radio" name="rci" value="y" ng-model="info.program.rci" ng-checked="info.program.rci=='y'">YES</label>
                        <label><input  type="radio" name="rci" value="n"  ng-model="info.program.rci" ng-checked="info.program.rci=='n'">NO</label>
                    </div>
                </div>
                <div class="item">
                    <div class="title" style="width: 35%!important;">
                        <span class="">DM</span>
                        <span class="red">*</span>
                    </div>
                    <div class="right" style="width: 63% !important;">
                        <label><input  type="radio" name="dm" value="y" ng-disabled="dmDisable" ng-model="info.program.dm" ng-checked="info.program.dm=='y'">YES</label>
                        <label><input  type="radio" name="dm" value="n" ng-disabled="dmDisable"  ng-model="info.program.dm" ng-checked="info.program.dm=='n'">NO</label>
                    </div>
                </div>
                <div class="item">
                    <div class="title" style="width: 35%!important;">
                        <span class="">通知机组</span>
                    </div>
                    <div class="right" style="width: 63% !important;">
                        <label><input  type="radio" name="tell" value="y" ng-model="info.program.tellPl" ng-checked="info.program.tellPl=='y'">YES</label>
                        <label><input  type="radio" name="tell" value="n"  ng-model="info.program.tellPl" ng-checked="info.program.tellPl=='n'">NO</label>
                    </div>
                </div>
                <div class="item">
                    <div class="title" style="width: 35%!important;">
                        <span class="">Feedback</span>
                        <span class="red">*</span>
                    </div>
                    <div class="right" style="width: 63% !important;">
                        <label><input  type="radio" name="feed" value="y" ng-model="info.program.feedback" ng-checked="info.program.feedback=='y'">YES</label>
                        <label><input  type="radio" name="feed" value="n"  ng-model="info.program.feedback" ng-checked="info.program.feedback=='n'">NO</label>
                    </div>
                </div>
                <div class="item">
                    <div class="title" style="width: 35%!important;">
                        <span class="">计划工时</span>
                        <span class="red">*</span>
                    </div>
                    <div class="right" style="width: 63% !important;">
                        <input class="right" style="width:15%;" ng-model="info.program.person" type="tel" onkeyup="value=value.replace(/^(0+)|[^\d]+/g,'')" placeholder=""><span>人</span><span>×</span>
                        <input class="right" style="width:15%;text-align: right" ng-model="info.program.hour" type="number" placeholder=""><span>小时</span>
                    </div>
                </div>
                <div class="item">
                    <div class="title">
                        <span class="">注意事项</span>
                        <span class="red">*</span>
                    </div>
                    <div class="right">
                        <div class="check-method" style="display: inline-block;height: 100%;width: 100%;">
                            <select  multiple="true" ng-model="info.program.notices" style="display: inline-block;height: 100%;width: 100%;"
                                     ng-change="noticesChanged()" required>
                                <option value="{{flawTypeItem.value}}"
                                        ng-selected="flawTypeItem.selected"
                                        ng-repeat="flawTypeItem in info.program.flawTypes track by $index ">
                                    {{flawTypeItem.name}}
                                </option>
                            </select>
                        </div>
                        <img class="triangle" style="width: 10px" src="dist/images/oil/Shape1@2x.png">
                    </div>
                </div>
                <div class="item" ng-if = "info.program.notices.length > 0">
                    <div style="width: 100%;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;">
                        <span ng-repeat="item in info.program.selectedFlawTypesItems" style="font-size: .6rem">
                            {{item.name}}
                        </span>
                    </div>
                </div>
                <div class="textarea-item" ng-if = "info.program.showOtherFlawTxt">
                    <div>
                        <textarea ng-model="info.program.otherText"></textarea>
                    </div>
                </div>
                <div class="header">纠正方案或工作描述<span class="red">*</span></div>
                <div class="textarea-item">
                    <div class="title">
                        <span>中文</span>
                    </div>
                    <div>
                        <textarea ng-model="info.program.chn"></textarea>
                    </div>
                    <div class="line"></div>
                </div>
                <div class="textarea-item">
                    <div class="title">
                        <span>英文</span>
                    </div>
                    <div>
                        <textarea ng-model="info.program.en"></textarea>
                    </div>
                    <div class="line"></div>
                </div>
                <div class="header">工具航材</div>
                <div class="item">
                    <div class="title" style="width: 35%!important;">
                        <span class="">工具航材需求</span>
                        <span class="red">*</span>
                    </div>
                    <div class="right" style="width: 63% !important;">
                        <label><input  type="radio" name="mrRequest" value="y" ng-model="info.program.mrRequest" ng-checked="info.program.mrRequest=='y'">YES</label>
                        <label><input  type="radio" name="mrRequest" value="n"  ng-model="info.program.mrRequest" ng-checked="info.program.mrRequest=='n'">NO</label>
                    </div>
                </div>
                <div class="item" ng-show = "info.program.mrRequest == 'y'">
                    <div class="title">
                        <span class="">REF IPC</span>
                        <span class="red">*</span>
                    </div>
                    <div class="right ipt" >
                        <input style="text-align: center" class="right" ng-model="info.program.repIpc" type="text"  placeholder="请填写依据">
                    </div>
                </div>
                <div class="header" ng-show = "info.program.mrRequest == 'y'">工具航材清单</div>
                <div class="ui-list oil-list" ng-show = "info.program.mrRequest == 'y'">
                    <div class="ui-list-item">
<!--                        <div ng-if="info.program.isHasTool == 'y'">-->
                            <div>
                            <div class="list-content">
                                <ul class="list-group oil-li-wrapper">
                                    <!--编辑状态-->
                                    <li class="list-group-item oil-li" ng-repeat="toolItem in info.program.toolDto track by $index" swipe-del >
                                        <div class="delete"  translate="delete" ng-click="deleteTool($event,$index,'Nrc')"></div>
                                        <div ng-click="editTool($event,toolItem,$index,'Nrc')" class="oil-float-wraper">
                                            <div class="oil-li-left">
                                                <span>工具</span>
                                            </div>
                                            <div class="oil-li-right">
                                                <span>P/N　{{toolItem.pn}}</span>
                                            </div>
                                        </div>

                                    </li>

                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="ui-list oil-list" ng-show = "info.program.mrRequest == 'y'">
                    <div class="ui-list-item">
<!--                        是否含有航材-->
                        <!--                        <div ng-if="info.program.isHasTool == 'y'">-->
                        <div>
                            <div class="list-content">
                                <ul class="list-group oil-li-wrapper">
                                    <!--编辑状态-->
                                    <li class="list-group-item oil-li" ng-repeat="toolItem in info.program.mrDto track by $index" swipe-del >
                                        <div class="delete"  translate="delete" ng-click="deleteMr($event,$index,'Nrc')"></div>
                                        <div ng-click="editMr($event,toolItem,$index,'Nrc')" class="oil-float-wraper">
                                            <div class="oil-li-left">
                                                <span>航材</span>
                                            </div>
                                            <div class="oil-li-right">
                                                <span>P/N　{{toolItem.pn}}</span>
                                            </div>
                                        </div>

                                    </li>

                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="item"  ng-show = "info.program.mrRequest == 'y'">
                    <div style="display:inline-block; width: 100%;text-align: center;vertical-align: middle;font-size: .7rem" ng-click = "addTool('Nrc')">
                        <img src="dist/images/Group2.png" width="20" style="max-width: 100%" alt="" />
                        添加工具
                    </div>

                </div>
                <div class="item"  ng-show = "info.program.mrRequest =='y'">
                    <div style="display:inline-block; width: 100%;text-align: center;vertical-align: middle;font-size: .7rem" ng-click="addMr('Nrc')">
                        <img src="dist/images/Group2.png" width="20" style="max-width: 100%" alt="" />
                        添加航材
                    </div>

                </div>
                <div class="header">方案补充文件</div>
               <div class="p-image">
                   <img-upload is-api-cloud="isApiCloud" file-id="fileId2" up-way="nrcupWay" is-edit="true"  nrc-id="nrcId" img-array="imgArr2" file-arr="fileArr2" del-img-id="delImgId"  attachvo="attachvo"></img-upload>
               </div>
            </div>
            <div class="header">推迟信息</div>
            <div class="item">
                <div class="title" style="width: 35%!important;">
                    <span class="">Suspending</span>
                    <span class="red">*</span>
                </div>
                <div class="right" style="width: 63% !important;">
                    <label><input  type="radio" name="isSuspending" value="y" ng-model="info.program.isSuspending" ng-checked="info.program.isSuspending=='y'">YES</label>
                    <label><input  type="radio" name="isSuspending" value="n"  ng-model="info.program.isSuspending" ng-checked="info.program.isSuspending=='n'">NO</label>
                </div>
            </div>
            <div class="item" ng-show="info.program.isSuspending == 'y'">
                <div class="title" style="width: 35%!important;">
                    <span class="">审批人</span>
                    <span class="red">*</span>
                </div>
                <div class="right" style="width: 63% !important;">
                    <select-person is-required="true" show-title="false" person-info="info.program.approver"></select-person>
                </div>
            </div>
            <div class="item" ng-show="info.program.isSuspending == 'y'">
                <div class="title" style="width: 35%!important;">
                    <span class="">复检工单</span>
                    <span class="red">*</span>
                </div>
                <div class="right" style="width: 63% !important;">
                    <label><input ng-disabled="nrcTaskNo"  type="radio" name="repeat" value="1" ng-model="info.program.repeat" ng-checked="info.program.repeat=='1'">YES</label>
                    <label><input ng-disabled="nrcTaskNo"  type="radio" name="repeat" value="0"  ng-model="info.program.repeat" ng-checked="info.program.repeat=='0'">NO</label>
                </div>
            </div>
            <div class="item" ng-show="info.program.isSuspending == 'y' && info.program.repeat == '1'">
                <div class="title" style="width: 35%!important;">
                    <span class="">NRC TASK</span>
                </div>
                <div class="right" style="width: 63% !important;">
                    <input class="" style="text-align: right;display:inline-block;width: 100%;padding-right: .5rem" ng-click="newNrcTask()" ng-model="nrcTaskNo " type="text" placeholder="请编辑NRCTASK" readonly>
                    <div class="next-fault-info icon-maoc icon-next-flight "></div>
                </div>
            </div>
            <div class="item" ng-show="info.program.isSuspending == 'y'">
                <div class="title" style="width: 35%!important;">
                    <span class="">推迟原因</span>
                    <span class="red">*</span>
                </div>
                <div class="right" style="width: 63% !important;">
                    <div class="check-method" style="display: inline-block;height: 100%;width: 100%;">
                        <select  multiple="true" ng-model="info.program.reasons" style="display: inline-block;height: 100%;width: 100%;"
                                 ng-change="reasonChanged()">
                            <option value="{{flawTypeItem.value}}"
                                    ng-selected="flawTypeItem.selected"
                                    ng-repeat="flawTypeItem in info.program.suspendTypes track by $index ">
                                {{flawTypeItem.name}}
                            </option>
                        </select>
                    </div>
                    <img class="triangle" style="width: 10px" src="dist/images/oil/Shape1@2x.png">
                </div>
            </div>
            <div class="item" ng-show = "info.program.isSuspending == 'y' && info.program.reasons.length > 0">
                <div style="width: 100%;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;">
                        <span ng-repeat="item in info.program.selectedReasons track by $index" style="font-size: .6rem">
                            {{item.name}}
                        </span>
                </div>
            </div>
            <div class="textarea-item" ng-if = "info.program.showReasonOther">
                <div>
                    <textarea ng-model="info.program.otherReasonText"></textarea>
                </div>
            </div>
            <div class="item" ng-show = "info.program.isSuspending == 'y' ">
                <div class="title">
                    <span class="">运行分类</span>
                    <span class="red">*</span>
                </div>
                <div class="right">
                    <div class="check-method">
                          <span ng-repeat="item in info.program.checkMethods" ng-if="item.value == info.program.runway">
                              {{item.name}}
                          </span>
                        <select ng-model="info.program.runway" required>
<!--                            <option value="1">运行飞机串件</option>-->
                            <option value="2">机组操作</option>
<!--                            <option value="3">影响地服推行</option>-->
                            <option value="8">货舱装载系统缺陷</option>
                            <option value="9">下货舱门开关缺陷</option>
                            <option value="10">烤箱烧水杯故障</option>
                            <option value="11">厕所排放系统缺陷</option>
                            <option value="4">影响机组飞行品质</option>
                            <option value="5">液体渗漏</option>
                            <option value="6">10天（20FC/30FH）内纠正</option>
                            <option value="7">其他</option>
                        </select>
                    </div>
                    <img class="triangle" style="width: 10px" src="dist/images/oil/Shape1@2x.png">

                </div>
            </div>
            <div class="item" ng-show="info.program.isSuspending == 'y'">
                <div class="title" style="width: 35%!important;">
                    <span class="">时限类型</span>
                    <span class="red">*</span>
                </div>
                <div class="right" style="width: 63% !important;">
                    <label><input  type="radio" name="timeWay" value="1" ng-model="info.program.timeWay" ng-checked="info.program.timeWay=='1'">硬时限</label>
                    <label><input  type="radio" name="timeWay" value="2"  ng-model="info.program.timeWay" ng-checked="info.program.timeWay=='2'">软时限</label>
                </div>
            </div>
            <div class="header" ng-show = "info.program.isSuspending == 'y' && info.program.timeWay=='2'">
                软时限设置
            </div>
            <div class="item" ng-show = "info.program.isSuspending == 'y' && info.program.timeWay=='2'">
                <div class="title">
                    <span class="">软时限</span>
                    <span class="red">*</span>
                </div>
                <div class="right">
                    <div class="check-method">
                          <span ng-repeat="item in info.program.softSets" ng-if="item.value == info.program.softSet">
                              {{item.name}}
                          </span>
                        <select ng-model="info.program.softSet">
                            <option value="1">90天</option>
                            <option value="2">120天</option>
                            <option value="3">180天</option>
                            <option value="4">NEXT C</option>
                            <option value="5">换发时执行</option>
                            <option value="6">送修时执行</option>
                        </select>
                    </div>
                    <img class="triangle" style="width: 10px" src="dist/images/oil/Shape1@2x.png">


                </div>
            </div>
            <div class="header" ng-show = "info.program.isSuspending == 'y' && info.program.timeWay=='1'">
                硬时限设置
            </div>
            <div class="item" ng-show="info.program.isSuspending == 'y' && info.program.timeWay=='1'">
                <div class="title" style="width: 35%!important;">
                    <span class="">依据</span>
                    <span class="red">*</span>
                </div>
                <div class="right" style="width: 63% !important;">
                    <label><input  type="radio" name="cause" value="1" ng-model="info.program.cause" ng-checked="info.program.cause=='1'">手册要求</label>
                    <label><input  type="radio" name="cause" value="2"  ng-model="info.program.cause" ng-checked="info.program.cause=='2'">技术评估</label>
                </div>
            </div>
            <div class="item" ng-show = "info.program.isSuspending == 'y' && info.program.timeWay=='1'">
                <div class="title">
                    <span class="">时限类别</span>
                    <span class="red">*</span>
                </div>
                <div class="right">
                    <div class="check-method">
                          <span ng-repeat="item in info.program.timeRoads" ng-if="item.value == info.program.timeRoad">
                              {{item.name}}
                          </span>
                        <select ng-model="info.program.timeRoad">
                            <option value="1">FH/FC/DAYS</option>
                            <option value="2">NEXT C</option>
                            <option value="3">送修时执行</option>
                        </select>
                    </div>
                    <img class="triangle" style="width: 10px" src="dist/images/oil/Shape1@2x.png">


                </div>
            </div>
            <div class="item" ng-show = "info.program.isSuspending == 'y' && info.program.timeRoad==1 && info.program.timeWay=='1'">
                <div class="title">
                    <span class="">FH</span>
                </div>
                <div class="right">
                    <input class="right" ng-model="info.program.fh" type="text"  placeholder="请填写">
                </div>
            </div>
            <div class="item" ng-show = "info.program.isSuspending == 'y' && info.program.timeRoad==1 && info.program.timeWay=='1'">
                <div class="title">
                    <span class="">FC</span>
                </div>
                <div class="right">
                    <input class="right" ng-model="info.program.fc" type="text"  placeholder="请填写">
                </div>
            </div>
            <div class="item" ng-show = "info.program.isSuspending == 'y' && info.program.timeRoad==1 && info.program.timeWay=='1'">
                <div class="title">
                    <span class="">DAYS</span>
                </div>
                <div class="right">
                    <input class="right" ng-model="info.program.days" type="text"  placeholder="请填写">
                </div>
            </div>
            <div class="item" ng-show="info.program.isSuspending == 'y' && info.program.timeRoad==1 && info.program.timeWay=='1'">
                <div class="title" style="width: 35%!important;">
                    <span class="">先后</span>
                    <span class="red">*</span>
                </div>
                <div class="right" style="width: 63% !important;">
                    <label><input  type="radio" name="inOrder" value="1" ng-model="info.program.inOrder" ng-checked="info.program.inOrder=='1'">First</label>
                    <label><input  type="radio" name="inOrder" value="2"  ng-model="info.program.inOrder" ng-checked="info.program.inOrder=='2'">Last</label>
                </div>
            </div>
            <div class="item" ng-show="info.program.isSuspending == 'y' && (info.program.timeRoad==3 || info.program.softSet == 5 || info.program.softSet == 6)">
                <div class="title" style="width: 35%!important;">
                    <span class="">PN</span>
                </div>
                <div class="right" style="width: 63% !important;">
                    <input class="right" ng-model="info.program.pnInput" type="text"  placeholder="请填写">
                </div>
            </div>
            <div class="item" ng-show="info.program.isSuspending == 'y' &&  (info.program.timeRoad==3 || info.program.softSet == 5 || info.program.softSet == 6)">
                <div class="title" style="width: 35%!important;">
                    <span class="">SN</span>
                </div>
                <div class="right" style="width: 63% !important;">
                    <input class="right" ng-model="info.program.snInput" type="text"  placeholder="请填写">
                </div>
            </div>
            <div class="save-button-section">
                <button   ng-class="{
                       'button-active':
                        info.basic.skill != '' &&
                        info.basic.itemcat!= '' &&
                        info.card.cardType!= '' &&
                        info.basic.cansee!= '' &&
                        info.basic.enDescribe!= '' &&
                        info.basic.cnDescribe!= '' &&
                        info.mech.approverName!= ''  &&
                        info.program.ata!= ''  &&
                        info.program.rii!= ''  &&
                        info.program.rci!= ''  &&
                        info.program.dm!= ''  &&
                        info.program.feedback!= ''  &&
                        info.program.person!= ''  &&
                        info.program.hour!= ''  &&
                        info.program.mrRequest!= ''  &&
                        info.program.en!= ''  &&
                        info.program.chn!= ''  &&
                        info.program.isSuspending!= ''  &&
                        info.requestCheck  &&
                        info.program.notices != ''  &&
                        info.program.notices &&
                       ((oilEwisInfo.isHasEwis == 'y' && oilEwisInfo.ewisDTO.length > 0) || oilEwisInfo.isHasEwis == 'n' )  &&
                       ((oilEwisInfo.isHasOil == 'y' && oilEwisInfo.oilDTO.length > 0) || oilEwisInfo.isHasOil == 'n' )
                       } "
                        ng-disabled="
                       info.basic.skill.length == 0 ||
                       !info.basic.skill ||
                       info.basic.itemcat.length == 0  ||
                       !info.basic.itemcat||
                       info.basic.cansee.length == 0  ||
                       !info.basic.cansee||
                       info.card.cardType.length == 0  ||
                       !info.card.cardType||
                       info.basic.enDescribe.length == 0  ||
                       !info.basic.enDescribe||
                       info.basic.cnDescribe.length == 0  ||
                       !info.basic.cnDescribe||
                       info.mech.approverName.length == 0 ||
                       !info.mech.approverName||
                       info.program.ata.length == 0 ||
                       !info.program.ata||
                       info.program.rii.length == 0 ||
                       !info.program.rii||
                       info.program.rci.length == 0 ||
                       !info.program.rci||
                       info.program.dm.length == 0 ||
                       !info.program.dm||
                       !info.requestCheck ||
                       info.program.feedback.length == 0 ||
                       !info.program.feedback||
                       info.program.person.length == 0 ||
                       !info.program.person||
                       info.program.hour.length == 0 ||
                       !info.program.hour||
                       info.program.mrRequest.length == 0 ||
                       !info.program.mrRequest||
                       info.program.chn.length == 0 ||
                       !info.program.chn||
                       info.program.en.length == 0 ||
                       !info.program.en||
                       info.program.isSuspending.length == 0 ||
                       !info.program.isSuspending||
                       !info.program.notices ||
                       info.program.notices.length == 0 ||
                       !((oilEwisInfo.isHasEwis == 'y' && oilEwisInfo.ewisDTO.length > 0) || oilEwisInfo.isHasEwis == 'n' ) ||
                      !((oilEwisInfo.isHasOil == 'y' && oilEwisInfo.oilDTO.length > 0) || oilEwisInfo.isHasOil == 'n' )"
                        ng-click="showConfirm()">
                    提交
                </button>
            </div>
        </div>
    </form>
</div>




<ewis ng-show="oilEwisInfo.showEwis" ewis-show="oilEwisInfo.showEwis" state="oilEwisInfo.ewisState" ewis-dto="oilEwisInfo.ewisDTO" index="oilEwisInfo.selectedEwisIndex" ewis-info="oilEwisInfo.ewisInfo" is-edit="isCreatTLB"></ewis>
<oil ng-show="oilEwisInfo.showOil" oil-show="oilEwisInfo.showOil" state="oilEwisInfo.oilState" oil-dto="oilEwisInfo.oilDTO" index="oilEwisInfo.selectedOilIndex" oil-info="oilEwisInfo.oilInfo" is-edit="isCreatTLB"></oil>

<!--新增nrctask-->
<div class="ewis-background" ng-show = "addNrctask">
    <div class="navbar navbar-app navbar-absolute-top">
        <div class="clearfix top-title">
            <div class="navbar-brand navbar-brand-center">NRC TASK
            </div>
            <div class="btn-group btn-back" style="z-index: 1000">
                <div class="btn" ng-click="cancelNrcTask()">
                    <i class="icon-maoc icon-back" ></i>
                </div>
            </div>
        </div>

    </div>
    <div class="oil-scroll">
        <form name="taskForm" novalidate>
            <div class="oil-form-wrapper" style="padding: 10px 0">
                <div class="header" style="padding: 10px;background-color: #f8f8f8; font-size: 14px;border-bottom: 0.5px solid #f8f8f8">排故方案<span class="red">*</span></div>


                <div class="oil-add-li" style="padding: 12px">
                    <div class="textarea-item">
                        <div class="title">
                            <span>中文描述</span>
                        </div>
                        <div>
                            <textarea ng-disabled="!taskEdit" style="width: 100%;border: 1px solid #d3dbdf;padding: 8px 10px;margin-bottom: 5px;font-size: 12px" rows="5" ng-model="info.program.nrcTask.chn"></textarea>
                        </div>
                    </div>
                </div>
                <div class="oil-add-li" style="padding: 12px">
                    <div class="textarea-item">
                        <div class="title">
                            <span>英文描述</span>
                        </div>
                        <div>
                            <textarea ng-disabled="!taskEdit" style="width: 100%;border: 1px solid #d3dbdf;padding: 8px 10px;margin-bottom: 5px;font-size: 12px" rows="5" ng-model="info.program.nrcTask.en"></textarea>
                        </div>
                    </div>
                </div>
                <div class="header" style="padding: 10px;background-color: #f8f8f8; font-size: 14px;border-bottom: 0.5px solid #f8f8f8">间隔先后<span class="red">*</span></div>
                <div class="oil-add-li" style="padding: 12px">
                    <span class="tail-eng-title">先后</span>
                    <div class="inline-block display-result">
                        <label><input ng-disabled="!taskEdit" style="vertical-align: -10%" type="radio" name="taskInterval"  class="oil-input" ng-value = 1 ng-model = "info.program.nrcTask.interval" checked="info.program.nrcTask.interval == 1">first</label>
                        <label><input ng-disabled="!taskEdit" style="vertical-align: -10%" type="radio" name="taskInterval"  class="oil-input" ng-value = 2 ng-model = "info.program.nrcTask.interval" checked="info.program.nrcTask.interval == 2">last</label>
                    </div>
                </div>
                <div class="header" style="padding: 10px;background-color: #f8f8f8; font-size: 14px;border-bottom: 0.5px solid #f8f8f8">间隔期限（至少填写一项）<span class="red">*</span></div>
                <div class="oil-add-li" style="padding: 12px">
                    <span class="tail-eng-title">FH</span>
                    <div class="inline-block display-result">
                        <input type="text" ng-disabled="!taskEdit"  placeholder="请输入"   class="oil-input" ng-model = info.program.nrcTask.fh>
                    </div>
                </div>
                <div class="oil-add-li" style="padding: 12px">
                    <span class="tail-eng-title">FC</span>
                    <div class="inline-block display-result">
                        <input type="text" ng-disabled="!taskEdit"  placeholder="请输入"   class="oil-input" ng-model = info.program.nrcTask.fc>
                    </div>
                </div>
                <div class="oil-add-li" style="padding: 12px">
                    <span class="tail-eng-title">DAYS</span>
                    <div class="inline-block display-result">
                        <input type="text" ng-disabled="!taskEdit"  placeholder="请输入"   class="oil-input" ng-model = info.program.nrcTask.days>
                    </div>
                </div>
                <div class="oil-add-li" style="padding: 12px">
                    <span class="tail-eng-title">A</span>
                    <div class="inline-block display-result">
                        <input type="text" ng-disabled="!taskEdit"  placeholder="请输入"   class="oil-input" ng-model = info.program.nrcTask.aa>
                    </div>
                </div>
                <div class="oil-add-li" style="padding: 12px">
                    <span class="tail-eng-title">C</span>
                    <div class="inline-block display-result">
                        <input type="text"  ng-disabled="!taskEdit" placeholder="请输入"   class="oil-input" ng-model = info.program.nrcTask.cc>
                    </div>
                </div>
                <div class="header" style="padding: 10px;background-color: #f8f8f8; font-size: 14px;border-bottom: 0.5px solid #f8f8f8">方案补充文件</div>
                <p style="padding-left: 0.5rem;color: coral; line-height: 1.5rem;margin-bottom: 0" ng-repeat="file in info.program.nrcTask.nueAttachments track by $index" ng-if = "file.type =='application/pdf' " ng-click="openNewPageWithData(file)">附件:{{file.name}}</p>

                <div class="p-image">
                    <img-upload is-api-cloud="isApiCloud"  nrc-id="nrcTaskId" is-edit="taskEdit" up-way="taskupWay" file-id = "fileId" img-array="imgArrTask" file-arr="fileArrTask" del-img-id="delImgId"  attachvo="attachvo"></img-upload>
                </div>
                <div class="header" style="padding: 10px;background-color: #f8f8f8; font-size: 14px;border-bottom: 0.5px solid #f8f8f8">工具航材清单<span class="red">*</span></div>
                <div class="oil-add-li" style="padding: 12px">
                    <span class="tail-eng-title">
                        <span class="">工具航材需求</span>
                        <span class="red">*</span>
                    </span>
                    <div class="inline-block display-result">
                        <label><input ng-disabled="!taskEdit"  type="radio" name="nrcTaskmrRequest" value="y" ng-model="info.program.nrcTask.mrRequest" ng-checked="info.program.nrcTask.mrRequest=='y'">YES</label>
                        <label><input ng-disabled="!taskEdit"  type="radio" name="nrcTaskmrRequest" value="n"  ng-model="info.program.nrcTask.mrRequest" ng-checked="info.program.nrcTask.mrRequest=='n'">NO</label>
                    </div>
                </div>
                <div class="oil-add-li" style="padding: 12px" ng-show = "info.program.nrcTask.mrRequest == 'y'">
                     <span class="tail-eng-title">
                        <span class="">REF IPC</span>
                        <span class="red">*</span>
                     </span>
                    <div  class="inline-block display-result">
                        <input class="oil-input" ng-model="info.program.nrcTask.repIpc" type="text"  placeholder="请填写依据">
                        <!--                        <select-person is-required="false" show-title="false" person-info="info.program.shenpi" is-auto-loginercode="true"></select-person>-->
                    </div>
                </div>
                <div class="ui-list oil-list" ng-show = "info.program.nrcTask.mrRequest == 'y'">
                    <div class="ui-list-item">
                        <div>
                            <div class="list-content">
                                <ul class="list-group oil-li-wrapper">
                                    <!--编辑状态-->
                                    <li class="list-group-item oil-li" ng-repeat="toolItem in info.program.nrcTask.toolDto track by $index" swipe-del >
                                        <div class="delete"  translate="delete" ng-click="deleteTool($event,$index,'NrcTask')"></div>
                                        <div ng-click="editTool($event,toolItem,$index,'NrcTask')" class="oil-float-wraper">
                                            <div class="oil-li-left">
                                                <span>工具</span>
                                            </div>
                                            <div class="oil-li-right">
                                                <span>P/N　{{toolItem.pn}}</span>
                                            </div>
                                        </div>

                                    </li>

                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="ui-list oil-list" ng-show = "info.program.nrcTask.mrRequest == 'y'">
                    <div class="ui-list-item">
                        <div>
                            <div class="list-content">
                                <ul class="list-group oil-li-wrapper">
                                    <!--编辑状态-->
                                    <li class="list-group-item oil-li" ng-repeat="toolItem in info.program.nrcTask.mrDto track by $index" swipe-del >
                                        <div class="delete"  translate="delete" ng-click="deleteMr($event,$index,'NrcTask')"></div>
                                        <div ng-click="editMr($event,toolItem,$index,'NrcTask')" class="oil-float-wraper">
                                            <div class="oil-li-left">
                                                <span>航材</span>
                                            </div>
                                            <div class="oil-li-right">
                                                <span>P/N　{{toolItem.pn}}</span>
                                            </div>
                                        </div>

                                    </li>

                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="oil-add-li"  ng-show = "info.program.nrcTask.mrRequest == 'y'">
                    <div style="display:inline-block; width: 100%;text-align: center;vertical-align: middle;font-size: .7rem" ng-click = "addTool('NrcTask')">
                        <img src="dist/images/Group2.png" width="20" style="max-width: 100%" alt="" />
                        添加工具
                    </div>

                </div>
                <div class="oil-add-li"  ng-show = "info.program.nrcTask.mrRequest =='y'">
                    <div style="display:inline-block; width: 100%;text-align: center;vertical-align: middle;font-size: .7rem" ng-click="addMr('NrcTask')">
                        <img src="dist/images/Group2.png" width="20" style="max-width: 100%" alt="" />
                        添加航材
                    </div>

                </div>
                <div class="button-wrapper" style="padding: 12px" ng-show = "taskEdit">

                    <!--ng-disabled="!myForm.$valid || fileArr.length ==0"-->

                    <button class="submitAddMR orange-button" style="width: 45%;float: left;margin-left: 0" ng-click="saveNrcTaskSure('save')" >
                        保存
                    </button>
                    <button class="submitAddMR"
                            ng-class="{
                            'orange-button': info.program.nrcTask.chn.length > 0 &&
                                        info.program.nrcTask.en.length > 0 &&
                                        info.program.nrcTask.interval &&
                                        info.program.nrcTask.mrRequest &&
                                        (info.program.nrcTask.fh.length > 0 || info.program.nrcTask.fc.length > 0 ||info.program.nrcTask.days.length > 0 || info.program.nrcTask.aa.length > 0 || info.program.nrcTask.cc.length > 0) &&
                                        ((info.program.nrcTask.mrRequest == 'y' &&  info.program.nrcTask.repIpc.length > 0) || (info.program.nrcTask.mrRequest == 'n'))

                                        }"
                            ng-disabled = "info.program.nrcTask.chn.length == 0 ||
                                        !info.program.nrcTask.chn ||
                                        info.program.nrcTask.en.length  == 0 ||
                                        !info.program.nrcTask.en ||
                                        info.program.nrcTask.interval.length  == 0 ||
                                        !info.program.nrcTask.interval ||
                                        info.program.nrcTask.mrRequest.length  == 0 ||
                                        !info.program.nrcTask.mrRequest ||
                                        (info.program.nrcTask.fh.length == 0 && info.program.nrcTask.fc.length == 0 && info.program.nrcTask.days.length == 0 && info.program.nrcTask.aa.length == 0 && info.program.nrcTask.cc.length == 0) ||
                                        (info.program.nrcTask.mrRequest == 'y' &&  info.program.nrcTask.repIpc.length == 0)

                                        "
                            style="width: 45%;float: right;margin-left: 0"  ng-click = "saveNrcTaskSure('submit')">
                        提交
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>


<div class="ewis-background" ng-if = "addtoolFlow" style="z-index: 1002">
    <div class="navbar navbar-app navbar-absolute-top">
        <div class="clearfix top-title">
            <div class="navbar-brand navbar-brand-center">添加工具
            </div>
            <div class="btn-group btn-back" style="z-index: 1000">
                <div class="btn" ng-click="cancelTool()">
                    <i class="icon-maoc icon-back" ></i>
                </div>
            </div>
        </div>

    </div>
    <div class="oil-scroll">
        <form name="toolForm" novalidate>
            <div class="oil-form-wrapper">
                <div class="oil-add-li">
                    <span class="tail-eng-title">P/N<span class="red">*</span></span>
                    <div class="inline-block display-result">
                        <input type="text"  placeholder="请输入工具PN号"   class="oil-input" ng-model = $parent.info.program.toolPN>
                    </div>
                </div>
                <div class="oil-add-li">
                    <span class="tail-eng-title">数量<span class="red">*</span></span>
                    <div class="inline-block display-result">
                        <input type="tel" style="border: none;"  placeholder="请输入数量"    class="oil-input" ng-model = $parent.info.program.toolNumber>
                    </div>
                </div>
                <div class="oil-add-li">
                    <span class="tail-eng-title">单位<span class="red">*</span></span>
                    <div class="inline-block display-result">

                        <select name=""
                                class="b-select-mel b-flex-box remove-type"
                                ng-model="$parent.info.program.toolUnit"
                                ng-options=" v.TEXT as v.TEXT for v in $parent.info.program.UnitList"
                        >
                        </select>
                        <img class="triangle" style="width: 10px" src="dist/images/oil/Shape1@2x.png">

                    </div>
                </div>
                <div class="oil-add-li">
                    <div class="textarea-item">
                        <div class="title">
                            <span>描述</span>
                        </div>
                        <div>
                            <textarea style="width: 100%;border: 1px solid #d3dbdf;padding: 8px 10px;margin-bottom: 5px;font-size: 12px" rows="5" ng-model="$parent.info.program.toolTips"></textarea>
                        </div>
                        <div class="line"></div>
                    </div>
                </div>
                <div class="button-wrapper" >

                    <!--ng-disabled="!myForm.$valid || fileArr.length ==0"-->

                    <button class="submitAddMR "
                            ng-class="{
                                'orange-button':$parent.info.program.toolPN &&
                                                $parent.info.program.toolNumber&&
                                                $parent.info.program.toolUnit
                                                 }"
                            ng-disabled="$parent.info.program.toolPN.length == 0 || !$parent.info.program.toolPN ||
                                         $parent.info.program.toolNumber.length == 0 || !$parent.info.program.toolNumber ||
                                         $parent.info.program.toolUnit.length == 0 || !$parent.info.program.toolUnit"
                            ng-click="addToolSure()" >
                        提交
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>

<div class="ewis-background" ng-if = "addMrFlow" style="z-index: 1002">
    <div class="navbar navbar-app navbar-absolute-top">
        <div class="clearfix top-title">
            <div class="navbar-brand navbar-brand-center">添加航材
            </div>
            <div class="btn-group btn-back" style="z-index: 1000">
                <div class="btn" ng-click="cancelMr()">
                    <i class="icon-maoc icon-back" ></i>
                </div>
            </div>
        </div>

    </div>
    <div class="oil-scroll">
        <form name="mrForm" novalidate>
            <div class="oil-form-wrapper">
                <div class="oil-add-li">
                    <span class="tail-eng-title">P/N<span class="red">*</span></span>
                    <div class="inline-block display-result">
                        <select-nrcpn pn-info="$parent.info.program.nrcPn"></select-nrcpn>
                    </div>
                </div>
                <div class="oil-add-li">
                    <span class="tail-eng-title">数量<span class="red">*</span></span>
                    <div class="inline-block display-result">
                        <input type="tel"  style="border: none;" placeholder="请输入数量"    class="oil-input" ng-model = "$parent.info.program.mrNumber">
                    </div>
                </div>
                <div class="oil-add-li">
                    <span class="tail-eng-title">单位<span class="red">*</span></span>
                    <div class="inline-block display-result">

                        <select name=""
                                class="b-select-mel b-flex-box remove-type"
                                ng-model="$parent.info.program.mrUnit"
                                ng-options=" v.TEXT as v.TEXT for v in $parent.info.program.mrUnitList"
                        >
                        </select>
                        <img class="triangle" style="width: 10px" src="dist/images/oil/Shape1@2x.png">

                    </div>
                </div>
                <div class="oil-add-li">
                    <div class="textarea-item">
                        <div class="title">
                            <span>描述</span>
                        </div>
                        <div>
                            <textarea readonly style="width: 100%;border: 1px solid #d3dbdf;padding: 8px 10px;margin-bottom: 5px;font-size: 12px" rows="5" ng-model="$parent.info.program.nrcPn.description"></textarea>
                        </div>
                        <div class="line"></div>
                    </div>
                </div>
                <div class="oil-add-li">
                    <span class="tail-eng-title">是否需要备料<span class="red">*</span></span>
                    <div class="inline-block display-result">
                        <label><input  type="radio" name="mrbeiliao" value="y" ng-model="$parent.info.program.mrBeiliao" ng-checked="$parent.info.program.mrBeiliao=='y'">YES</label>
                        <label><input  type="radio" name="mrbeiliao" value="n"  ng-model="$parent.info.program.mrBeiliao" ng-checked="$parent.info.program.mrBeiliao=='n'">NO</label>
                    </div>
                </div>
                <div class="button-wrapper" >


                    <button class="submitAddMR"
                            ng-class="{
                                'orange-button':$parent.info.program.nrcPn.partno &&
                                                $parent.info.program.mrNumber &&
                                                $parent.info.program.mrUnitList &&
                                                $parent.info.program.mrBeiliao
                                               }"
                            ng-disabled="$parent.info.program.nrcPn.partno.length == 0 || !$parent.info.program.nrcPn.partno ||
                                         $parent.info.program.mrNumber.length == 0 || !$parent.info.program.mrNumber ||
                                         $parent.info.program.mrUnitList.length == 0 || !$parent.info.program.mrUnitList ||
                                         $parent.info.program.mrBeiliao.length == 0 || !$parent.info.program.mrBeiliao"
                            ng-click="addmrSure()" >
                        提交
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>

<!--方案制定确认页-->

<div class="ewis-background" ng-if = "confirmFlow" style="z-index: 1002">
    <div class="navbar navbar-app navbar-absolute-top">
        <div class="clearfix top-title">
            <div class="navbar-brand navbar-brand-center">NRC方案提交确认
            </div>
            <div class="btn-group btn-back" style="z-index: 1000">
                <div class="btn" ng-click="$parent.confirmFlow = false">
                    <i class="icon-maoc icon-back" ></i>
                </div>
            </div>
        </div>

    </div>
    <div class="oil-scroll">
        <form name="toolForm" novalidate>
            <div class="oil-form-wrapper">
                <div class="oil-add-li" ng-show = "info.program.isSuspending == 'y' ">
                    <span class="tail-eng-title">运行分类</span>
                    <div class="inline-block display-result">
                        <span ng-repeat="item in info.program.checkMethods" ng-if="item.value == info.program.runway">
                              {{item.name}}
                        </span>
                    </div>
                </div>
                <div class="oil-add-li">
                    <span class="tail-eng-title">注意事项</span>
                    <div class="inline-block display-result">
                        <span ng-repeat="item in info.program.selectedFlawTypesItems" style="font-size: .6rem;margin-right: .2rem">
                            {{item.name}}
                        </span>
                    </div>
                </div>
                <div class="oil-add-li" ng-show="info.program.mrRequest=='y'">
                    工具航材
                </div>
                <div class="oil-add-li" ng-show="info.program.mrRequest=='y'">
                    <span class="tail-eng-title">工具</span>
                    <div class="inline-block display-result">
                        <div class="list-group-item oil-li" ng-repeat="toolItem in info.program.toolDto track by $index">
                            <div class="oil-float-wraper">
                                <div class="oil-li-left">
                                    <span>P/N</span>
                                </div>
                                <div class="oil-li-right">
                                    <span>{{toolItem.pn}}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="oil-add-li" ng-show="info.program.mrRequest=='y'">
                    <span class="tail-eng-title">航材</span>
                    <div class="inline-block display-result">
                        <div class="list-group-item oil-li" ng-repeat="toolItem in info.program.mrDto track by $index">
                            <div class="oil-float-wraper">
                                <div class="oil-li-left">
                                    <span>P/N</span>
                                </div>
                                <div class="oil-li-right">
                                    <span>{{toolItem.pn}}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="oil-add-li" ng-show = "info.program.isSuspending == 'y' ">
                    <span class="tail-eng-title">推迟时限</span>
                    <div class="inline-block display-result">
                        {{info.program.timeWay=='1' ? '硬时限' : '软时限'}}
                    </div>
                </div>
                <div class="oil-add-li" ng-show = "info.program.isSuspending == 'y' &&  info.program.timeWay=='1'">
                    <span class="tail-eng-title">时限类别</span>
                    <div class="inline-block display-result">
                        <span ng-repeat="item in info.program.timeRoads" ng-if="item.value == info.program.timeRoad">
                              {{item.name}}
                          </span>
                    </div>
                </div>
                <div class="oil-add-li" ng-show = "info.program.isSuspending == 'y' &&  info.program.timeWay=='1' && info.program.timeRoad=='1'">
                    <span class="tail-eng-title">FH</span>
                    <div class="inline-block display-result">
                        {{info.program.fh}}
                    </div>
                </div>
                <div class="oil-add-li" ng-show = "info.program.isSuspending == 'y' &&  info.program.timeWay=='1' && info.program.timeRoad=='1'">
                    <span class="tail-eng-title">FC</span>
                    <div class="inline-block display-result">
                        {{info.program.fc}}
                    </div>
                </div>
                <div class="oil-add-li" ng-show = "info.program.isSuspending == 'y' &&  info.program.timeWay=='1' && info.program.timeRoad=='1'">
                    <span class="tail-eng-title">DAYS</span>
                    <div class="inline-block display-result">
                        {{info.program.days}}
                    </div>
                </div>
                <div class="oil-add-li" ng-show = "info.program.isSuspending == 'y' &&  info.program.timeWay=='1' && info.program.timeRoad=='1'">
                    <span class="tail-eng-title">先后</span>
                    <div class="inline-block display-result">
                        {{info.program.inOrder == '1' ?'First':'Last'}}
                    </div>
                </div>
                <div class="oil-add-li" ng-show = "info.program.isSuspending == 'y' &&  info.program.timeWay=='2'">
                    <span class="tail-eng-title">软时限设置</span>
                    <div class="inline-block display-result">
                        <span ng-repeat="item in info.program.softSets" ng-if="item.value == info.program.softSet">
                              {{item.name}}
                        </span>
                    </div>
                </div>
                <div class="oil-add-li" ng-show="info.program.isSuspending == 'y' &&  (info.program.timeRoad==3 || info.program.softSet == 5 || info.program.softSet == 6)">
                    <span class="tail-eng-title">送修部件</span>
                    <div class="inline-block display-result">
                        <div>
                            PN {{info.program.pnInput}}
                        </div>
                        <div>
                            SN {{info.program.snInput}}
                        </div>
                    </div>
                </div>
                <div class="button-wrapper" >
                    <button class="submitAddMR orange-button"
                            ng-click="submit('submit')" >
                        提交
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>


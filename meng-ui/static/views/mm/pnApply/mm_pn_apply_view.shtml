<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head id="i18n_" module="ws_work_flow">
  <!--#include virtual="/views/items/resource_.shtml"-->
  <title>件号申请浏览</title>
  <style>
    .combobox-item {
      height: 16px;
    }
  </style>

</head>
<body class="ibody">

<div id="tabs" style="width: 100%; margin:0 auto;">
  <div id="tab01" title="业务表单数据" style="">
    <div class="ibox float-e-margins">
      <div class="ibox-content">
        <form class="form-horizontal m-t" id="mform" style="margin-top: 0px;">
          <input type="hidden" id="isFirstNode" name="isFirstNode">
          <input type="hidden" name="jhsprid" id="jhsprid"/>
          <!-- 业务数据展示 start-->
            <div id="p0" class="easyui-panel" title="件号申请">
              <input type="hidden" id="pkid" name="pkid">
              <table class="table table-bordered table-info" id="returnTable">
                <tr>
                  <th class="td5" style="width:120px;" align="right"> 申请编号：</th>
                  <td class="tdr">
                    <input class="easyui-textbox" id="zno" name="zno" data-options="editable:false,onlyview:true"
                           style="width:200px;"/>
                  </td>
                  <th class="td5" style="width:120px;" align="right"> 申请件号：</th>
                  <td class="tdr">
                    <input class="easyui-textbox" id="matnr" name="matnr" data-options="editable:false,onlyview:true"
                           style="width:150px;"/>
                  </td>
                  <th class="td5" style="width:120px;" align="right"> 件号来源：</th>
                  <td class="tdr">
                    <input class="easyui-combobox" id="zzpnly" name="zzpnly" data-options="editable:false,onlyview:true"
                           style="width:150px;"/>
                  </td>
                </tr>
                <tr>
                  <th class="td5" style="width:120px;" align="right"> 件号中文名：</th>
                  <td class="tdr">
                    <input class="easyui-textbox" id="nameZh" name="nameZh" data-options="editable:false,onlyview:true"
                           style="width:200px;"/>
                  </td>
                  <th class="td5" style="width:120px;" align="right"> 件号英文名：</th>
                  <td class="tdr">
                    <input class="easyui-textbox" id="nameEn" name="nameEn"
                           data-options="editable:false,onlyview:true"
                           style="width:150px;"/>
                  </td>
                  <th class="td5" style="width:120px;" align="right"> 来源机型：</th>
                  <td class="tdr">
                    <input class="easyui-combobox" id="stort" name="stort"
                           data-options="editable:false,onlyview:true"
                           style="width:150px;"/>
                  </td>
                </tr>
                <tr>
                  <th class="td5" style="width:120px;" align="right"> 章节号：</th>
                  <td class="tdr" colspan="3">
                    <input class="easyui-combobox" id="zzata1" name="zzata1" data-options="editable:false,onlyview:true"
                           style="width:150px;"/>-
                    <input class="easyui-textbox" id="zzata2" name="zzata2" data-options="editable:false,onlyview:true"
                           style="width:60px;"/>-
                    <input class="easyui-textbox" id="zzata3" name="zzata3" data-options="editable:false,onlyview:true"
                           style="width:60px;"/>-
                    <input class="easyui-textbox" id="zzata4" name="zzata4" data-options="editable:false,onlyview:true"
                           style="width:60px;"/>
                  </td>
                  <th class="td5" style="width:120px;" align="right"> 是否PMA件：</th>
                  <td class="tdr">
                    <input type="checkbox" name="zzpma" value="Y" disabled/>
                  </td>
                </tr>
              </table>
              <table class="table table-bordered table-info" id="spTable">
                <tr>
                  <th class="td5" style="width:120px;" align="right"> 件号类型：</th>
                  <td class="tdr">
                    <input class="easyui-combobox" id="zzpnlx" name="zzpnlx" data-options="editable:false,onlyview:true"
                           style="width:150px;"/>
                  </td>
                  <th class="td5" style="width:120px;" align="right"> 件号分类：</th>
                  <td class="tdr">
                    <input class="easyui-combobox" id="matkl" name="matkl"
                           data-options="editable:false,onlyview:true"
                           style="width:150px;"/>
                  </td>
                  <th class="td5" style="width:120px;" align="right"> OEM件号：</th>
                  <td class="tdr">
                    <input class="easyui-textbox" id="zzoem" name="zzoem"
                           data-options="editable:false,onlyview:true"
                           style="width:150px;"/>
                  </td>
                </tr>
                <tr>
                  <th class="td5" style="width:120px;" align="right"> 库存基本单位：</th>
                  <td class="tdr">
                    <input class="easyui-combobox" id="meins" name="meins"
                           data-options="required:false,editable:false"
                           style="width:200px;" disabled/>
                  </td>
                  <th class="td5" style="width:120px;" align="right"> 是否工程可修：</th>
                  <td class="tdr">
                    是&nbsp;&nbsp;<input type="radio" name="zzgckx" value="Y" disabled/>
                    &nbsp;&nbsp;&nbsp;&nbsp;否&nbsp;&nbsp;<input type="radio" name="zzgckx" value="N" disabled/>
                  </td>
                  <th class="td5" style="width:120px;" align="right"> 是否航材可修：</th>
                  <td class="tdr">
                    是&nbsp;&nbsp;<input type="radio" name="zzhckx" value="Y" disabled/>
                    &nbsp;&nbsp;&nbsp;&nbsp;否&nbsp;&nbsp;<input type="radio" name="zzhckx" value="N" disabled/>
                  </td>
                </tr>
                <tr>
                  <th class="td5" style="width:120px;" align="right"> 适用机型：</th>
                  <td class="tdr">
                    <input class="easyui-combobox" id="stortApp" name="stortApp" data-options="editable:false,onlyview:true" style="width:200px;"/>
                  </td>
                  <th class="td5" style="width:120px;" align="right"> 规范号：</th>
                  <td class="tdr">
                    <input class="easyui-textbox" id="zzgfh" name="zzgfh"
                           data-options="editable:false,onlyview:true" style="width:200px;"/>
                  </td>
                  <th class="td5" style="width:120px;" align="right"> 是否序号管控：</th>
                  <td class="tdr">
                    <input class="easyui-combobox" id="zxhj" name="zxhj"
                           data-options="required:false,editable:false"
                           style="width:200px;" disabled/>
                  </td>
                </tr>
                <!--<tr>
                  <th class="td5" style="width:120px;" align="right"> 适用飞机号：</th>
                  <td class="tdr" colspan="5">
                    <input class="easyui-combobox" id="msgrpApp" name="msgrpApp"
                           data-options="editable:false,onlyview:true"
                           style="width:500px;"/>
                  </td>
                </tr>-->
              </table>
              <table class="table table-bordered table-info">
                <tr>
                  <th class="td5" style="width: 120px;" align="right">备注：</th>
                  <td class="tdr" colspan="5">
                    <input class="easyui-textbox " name="memo" id="memo"
                           data-options="editable:false,onlyview:true" multiline="true"
                           style="height:100px; width:500px;"/>
                  </td>
                </tr>
              </table>
            </div>
          </form>
      </div>
    </div>
  </div>
</div>
<script type="text/javascript" src="/js/datagrid_utils.js"></script>
<script type="text/javascript">
var COMBOBOX_DATA = {};
var accountId = getLoginInfo().accountId;
var param = getParentParam_();
function i18nCallBack() {
    InitFuncCodeRequest_({
        data: {
            FunctionCode: "ANALYSIS_DOMAIN_BYCODE",
            domainCode: "DA_ACREG_MP_ACTYPE,MSGRP,MM_DIC_PART_SOURCE,ATA_2_SORT,MM_DIC_PART_TYPE,MM_DIC_PART_TYPE_C,MM_DIC_PART_TYPE_C1,MM_DIC_PART_TYPE_C2,MM_DIC_PART_TYPE_C3,MM_VPN_ZXHJ"
        },
        successCallBack: function (jdata) {
            COMBOBOX_DATA['type1'] = jdata.data.MM_DIC_PART_TYPE_C1;
            COMBOBOX_DATA['type2'] = jdata.data.MM_DIC_PART_TYPE_C2;
            COMBOBOX_DATA['type3'] = jdata.data.MM_DIC_PART_TYPE_C3;
            COMBOBOX_DATA['actypes'] = jdata.data.DA_ACREG_MP_ACTYPE;
            //来源机型
            $('#stort').combobox({
                panelHeight: '140px',
                multiple: true, //是否可多选
                valueField: 'VALUE',
                textField: 'VALUE',
                data: jdata.data.DA_ACREG_MP_ACTYPE
            });
            //件号来源
            $('#zzpnly').combobox({
                panelHeight: '140px',
                valueField: 'VALUE',
                textField: 'TEXT',
                data: jdata.data.MM_DIC_PART_SOURCE
            });
            $('#zzata1').combobox({
                panelHeight: '140px',
                valueField: 'VALUE',
                textField: 'TEXT',
                data: jdata.data.ATA_2_SORT
            });
            //件号类型
            $('#zzpnlx').combobox({
                panelHeight: '140px',
                valueField: 'VALUE',
                textField: 'TEXT',
                data: jdata.data.MM_DIC_PART_TYPE
            });

            $('#matkl').combobox({
                panelHeight: '140px',
                valueField: 'VALUE',
                textField: 'TEXT',
                data: jdata.data.MM_DIC_PART_TYPE_C1
            });
            //适用机型
            $('#stortApp').combobox({
                panelHeight: '140px',
                multiple: true, //是否可多选
                valueField: 'VALUE',
                textField: 'TEXT',
                data: jdata.data.DA_ACREG_MP_ACTYPE
            });
            //适用机号
            $('#msgrpApp').combobox({
                panelHeight: '140px',
                multiple: true, //是否可多选
                valueField: 'VALUE',
                textField: 'TEXT',
                data: jdata.data.MSGRP
            });
            //库存基本单位
            $('#meins').combobox({
                panelHeight: '140px',
                valueField: 'VALUE',
                textField: 'TEXT',
                data: jdata.data.MM_VPN_KCDW
            });
            //是否序号管控
            $('#zxhj').combobox({
                panelHeight: '140px',
                valueField: 'VALUE',
                textField: 'TEXT',
                data: jdata.data.MM_VPN_ZXHJ
            });
            InitDataForm(param.pkid);
        }
    });
}
//回显数据
function InitDataForm(pkid) {
    InitFuncCodeRequest_({
        data: {pkid: pkid, FunctionCode: "MM_VPN_APPLY_GET"},
        successCallBack: function (jdata) {
            if (jdata.code == RESULT_CODE.SUCCESS_CODE) {
                ParseFormField_(jdata.data, null, Constant.CAMEL_CASE);
                /*if("Y" == jdata.data.ZZDKCG){
                    $("#zzdkcg").prop('checked',true);
                }*/
                if(jdata.data.STORT){
                    $('#stort').combobox({value: jdata.data.STORT.split(',')});
                }
                if(jdata.data.STORT_APP){
                    $('#stortApp').combobox({value: jdata.data.STORT_APP.split(',')});
                }
                if(jdata.data.MSGRP_APP){
                    $('#msgrpApp').combobox({value: jdata.data.MSGRP_APP.split(',')});
                }
                if(jdata.data.ZZGCKX == 'Y'){
                  $("input[name='zzgckx'][value='Y']").prop('checked',true);
                }else if(jdata.data.ZZGCKX == 'N'){
                    $("input[name='zzgckx'][value='N']").prop('checked',true);
                }
                if(jdata.data.ZZHCKX == 'Y'){
                    $("input[name='zzhckx'][value='Y']").prop('checked',true);
                }else if(jdata.data.ZZHCKX == 'N'){
                    $("input[name='zzhckx'][value='N']").prop('checked',true);
                }
                if (jdata.data.ZZPMA == 'Y') {
                    $("input[name='zzpma'][value='Y']").prop('checked', true);
                } else if (jdata.data.ZZPMA == 'N') {
                    $("input[name='zzpma'][value='N']").prop('checked', true);
                }
            }
        }
    });
}
</script>
</body>
</html>
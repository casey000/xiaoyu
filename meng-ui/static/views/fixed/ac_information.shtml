<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head id="i18n_" module="">
    <!--#include virtual="/views/items/resource_.shtml"-->
    <!--#include virtual="/views/defect/defect_js.shtml"-->
    <meta charset="UTF-8">
    <title>flb_oilStatistics_view</title>
    <link href="/css/nrc/nrc_add.css" rel="stylesheet">
    <style type="text/css">
        .size_div {
            font-size: 14px;
            font-weight: bold;
            margin-top: 10px;
            color: #000;
        }

        .span_div {
            margin-left: 30px;
            margin-right: 5px;
        }

        th {
            text-align: center;
        }

        tr {
            height: 30px;
        }

        td {
            text-align: center;
            color: #000;
        }
    </style>
</head>
<body style="height: 100%;">
<div class="size_div" style="margin-top: 0px">飞机基本信息：</div>
<div style="margin-top: 10px">
    <table class="table table-bordered table-info" style="width: 530px;">
        <tr>
            <th>飞机号：</th>
            <td><span id="ac_hao"></span></td>
            <th>机型：</th>
            <td><span id="ac_no"></span></td>
        </tr>
        <tr>
            <th>总小时数：</th>
            <td><span id="date_inde"></span></td>
            <th>总循环数：</th>
            <td><span id="for_inde"></span></td>
        </tr>
        <tr>
            <th>发动机1：</th>
            <td colspan="3"><span class="span_div">件号:</span><span id="engine1_piece"></span> <span
                    class="span_div">序号:</span><span id="engine1_order"></span></td>
        </tr>
        <tr>
            <th>发动机2：</th>
            <td colspan="3"><span class="span_div">件号:</span><span id="engine2_piece"></span> <span
                    class="span_div">序号:</span><span id="engine2_order"></span></td>
        </tr>
        <tr class="b_747">
            <th>发动机3：</th>
            <td colspan="3"><span class="span_div">件号:</span><span id="engine3_piece"></span> <span
                    class="span_div">序号:</span><span id="engine3_order"></span></td>
        </tr>
        <tr class="b_747">
            <th>发动机4：</th>
            <td colspan="3"><span class="span_div">件号:</span><span id="engine4_piece"></span> <span
                    class="span_div">序号:</span><span id="engine4_order"></span></td>
        </tr>
        <tr>
            <th>APU：</th>
            <td colspan="3"><span class="span_div">件号:</span><span id="apu_piece"></span> <span
                    class="span_div">序号:</span><span id="apu_order"></span></td>
        </tr>
    </table>
</div>

<div class="size_div">飞机状态：</div>
<div style="border: 1px solid #ccc;width: 100%">
    <table id="dg"></table>
    <!--<h1>等待后台配置列表</h1>-->
</div>
<div class="size_div">特殊需求/备注：</div>
<div>
    <textarea id="bz" name="bz" readonly="readonly"></textarea>
</div>

</body>
<script src="/js/plugins/ajaxfileupload/ajaxfileupload.js" type="text/javascript"></script>
<script src="../../../js/datagrid_utils.js" type="text/javascript"></script>
<script type="text/javascript">
    $(function () {
        var _params = getParentParam_();
        if (_params.bz && "null" !== _params.bz) {
            $("#bz").text(_params.bz);
        }
        $("#ac_hao").text(null_(_params.acNo));
        $("#ac_no").text(null_(JSON.parse(_params.obj).stort));
        $("#date_inde").text(parseInt(JSON.parse(_params.obj).acfh/60)+":"+JSON.parse(_params.obj).acfh%60);
        $("#for_inde").text(null_(JSON.parse(_params.obj).acfc));
        $("#engine1_piece").text(null_(JSON.parse(_params.obj).engj1));
        $("#engine1_order").text(null_(JSON.parse(_params.obj).engs1));
        $("#engine2_piece").text(null_(JSON.parse(_params.obj).engj2));
        $("#engine2_order").text(null_(JSON.parse(_params.obj).engs2));
        $("#engine3_piece").text(null_(JSON.parse(_params.obj).engj3));
        $("#engine3_order").text(null_(JSON.parse(_params.obj).engs3));
        $("#engine4_piece").text(null_(JSON.parse(_params.obj).engj4));
        $("#engine4_order").text(null_(JSON.parse(_params.obj).engs4));
        $("#apu_piece").text(null_(JSON.parse(_params.obj).apuj));
        $("#apu_order").text(null_(JSON.parse(_params.obj).apus));
        if (_params.acModel != "B747") {
            $(".b_747").hide();
        }
        InitDataGrid(_params);
    });

    function null_(data) {
        if (data == null) {
            return "";
        }
        return data;
    }


    function InitDataGrid(_params) {
        var data = {};
        if (_params) {
            data['acNo'] = _params['acNo'];
            data['woNo'] = _params['woNo'];
        }

        $("#dg").MyDataGrid({
            identity: 'dg',
            sortable: true,
            singleSelect: true,
            queryParams: data,  //todo 传递当前工包的飞机和工包号过滤
            pageSize: 10,
            columns: {
                param: {
                    FunctionCode: 'PCHECK_AC_INFO_LIST'
                },
                alter: {
                    REP_TIME: {type: 'date'}

                }
            },
            toolbar: [],
            onClickRow: function (rowIndex, rowData) {
            },
            onDblClickRow: function (index, field, value) {
            }
        });
    }

</script>
</html>
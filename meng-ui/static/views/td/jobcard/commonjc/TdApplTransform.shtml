<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head id="i18n_" module="">
    <!--#include virtual="/views/items/resource_.shtml"-->
    <title data-i18n="">适用性转换</title>
</head>
<body>
<div style="width:100%;height:100%;border: 1px solid gray">
    <div style="margin:5px;width:99%;font-size: 14px;line-height: 24px;">
        <h3>模块说明:</h3>
        <p style="text-indent:2em">1.飞机注册号之间可能包含逗号和冒号（包含中英文输入法），和单个或多个空格</p>
        <p style="text-indent:2em">2.需要支持MSN号转化为有效性代码，飞机注册号和MSN号会存在混用情况，如:FOR B-6150,B-7082,
            MSN29941,MSN29942,MSN29943,MSN29944</p>
        <p style="text-indent:2em">3.输入飞机注册号（或MSN号）可选择转化出除这些飞机号以外的所有飞机的有效性代码，如:适用于除 B-6150,B-7082,
            MSN29941,MSN29942<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,MSN29943,MSN29944外的所有飞机</p>
        <p style="text-indent:2em">4.能支持自动排序（按TC导出的形式，比如801806 808808 810999）和双向转化</p>
        <p style="text-indent:2em">5.转化不成功会给予提示</p>
    </div>
    <div></div>
    <div style="margin:5px;width:99%;height:320px;">
        <div style="float: left;margin:1px 0px 1px 1px;width: 43%;">
            <p style="font-size: 14px;text-align: center;height: 18px;border: 1px solid gray;">ACNO</p>
            <div>
                <input class="easyui-textbox" id="acnoValue1" name="acnoValue1"
                       data-options="multiline:true,validType:['maxLength[4000]']"
                       style="height:296px;width: 100%;border: 1px solid gray">
            </div>
        </div>
        <div style="float: left;margin:1px 0px 1px 1px;width: 13%;">
            <p style="font-size: 14px;text-align: center;height: 18px;border: 1px solid gray;">TO</p>
            <div><br>
                <input style="margin-left:40px" type="radio" name="radiobutton" value="B737"/>
                B737<br><br>
                <input style="margin-left:40px" type="radio" name="radiobutton" value="B747"/>
                B747<br><br>
                <input style="margin-left:40px" type="radio" name="radiobutton" value="B757"/>
                B757<br><br>
                <input style="margin-left:40px" type="radio" name="radiobutton" value="B767"/>
                B767<br><br>
                <input style="margin-left:40px" type="radio" name="radiobutton" value="Other"/>
                Other<br><br>
                <input class="btn btn-primary" type="button" onclick="acnoToCecNormal()" value="正常转换"
                       style="width:90px;float:left;margin-left:30px"/><br><br>
                <input class="btn btn-primary" type="button" onclick="acnoToCecAllExcep()" value="ALL EXCEPT"
                       style="width:90px;float:left;margin-left:30px "/><br><br>
                <input class="btn btn-primary" type="button" onclick="resetAll()" value="重置"
                       style="width:90px;float:left;margin-left:30px "/>
            </div>
        </div>
        <div style="float: left;margin:1px 0px 1px 1px;width: 43%;">
            <p style="font-size: 14px;text-align: center;height: 18px;border: 1px solid gray;">CEC</p>
            <div>
                <input class="easyui-textbox" id="cecValue1" name="cecValue1"
                       data-options="multiline:true,validType:['maxLength[4000]']"
                       style="height:296px;width: 100%;border: 1px solid gray">
            </div>
        </div>
    </div>
    <div style="margin:5px;width:99%;height:320px;">
        <div style="float: left;margin:1px 0px 1px 1px;width: 43%;">
            <p style="font-size: 14px;text-align: center;height: 18px;border: 1px solid gray;">CEC</p>
            <div>
                <input class="easyui-textbox" id="cecValue2" name="cecValue2"
                       data-options="multiline:true,validType:['maxLength[4000]']" style="height:296px;width: 100%;">
            </div>
        </div>
        <div style="float: left;margin:1px 0px 1px 1px;width: 13%;">
            <p style="font-size: 14px;text-align: center;height: 18px;border: 1px solid gray;">TO</p>
            <div><br>
                <input style="margin-left:40px" type="radio" name="radiobutton2" value="B737"/>
                B737<br><br>
                <input style="margin-left:40px" type="radio" name="radiobutton2" value="B747"/>
                B747<br><br>
                <input style="margin-left:40px" type="radio" name="radiobutton2" value="B757"/>
                B757<br><br>
                <input style="margin-left:40px" type="radio" name="radiobutton2" value="B767"/>
                B767<br><br>
                <input style="margin-left:40px" type="radio" name="radiobutton2" value="Other"/>
                Other<br><br>
                <input class="btn btn-primary" type="button" onclick="cecToAcno()" value="转换"
                       style="width:90px;float:left;margin-left:30px "/>
            </div>
        </div>
        <div style="float: left;margin:1px 0px 1px 1px;width: 43%;">
            <p style="font-size: 14px;text-align: center;height: 18px;border: 1px solid gray;">ACNO</p>
            <div>
                <input class="easyui-textbox" id="acnoValue2" name="acnoValue2"
                       data-options="multiline:true,validType:['maxLength[4000]']" style="height:296px;width: 100%;">
            </div>
        </div>
    </div>
</div>
<script type="text/javascript" src="/js/datagrid_utils.js"></script>
<script type="text/javascript">

    var param;

    function i18nCallBack() {
        param = getParentParam_();
        InitFuncCodeRequest_({
            data: {
                domainCode: "DA_FLEET",
                FunctionCode: "ANALYSIS_DOMAIN_BYCODE"
            },
            successCallBack: function (jdata) {
                if (jdata.code == RESULT_CODE.SUCCESS_CODE) {
                    $('#fleet').combobox({
                        panelHeight: '130px',
                        data: jdata.data.DA_FLEET,
                        valueField: 'VALUE',
                        textField: 'TEXT'
                    });
                }
            }
        })
    }

    function acnoToCecNormal() {
        var type = "normal";
        var effstr = $("#acnoValue1").textbox('getValue');
        var fleet = $("[name='radiobutton']:checked").val();
        if (effstr == "") {
            MsgAlert({content: '请先输入ACNO！', type: 'error'});
            return;
        }
        if (!fleet) {
            MsgAlert({content: '请先选择机队！', type: 'error'});
            return;
        }
        ajaxLoading();
        InitFuncCodeRequest_({
            data: {
                effstr: effstr, fleet: fleet, type: type, FunctionCode: "TD_APPL_AC_CEC"
            },
            successCallBack: function (jdata) {
                if (jdata.code == RESULT_CODE.SUCCESS_CODE) {
                    MsgAlert({content: $.i18n.t('msg_tip:TIP.COMMON.OPT_SUCCESS')});
                }
                var result = jdata.data;
                $("#cecValue1").textbox('setValue', result);
                ajaxLoadEnd();
            }
        });
    }

    function acnoToCecAllExcep() {
        var type = "excep";
        var effstr = $("#acnoValue1").textbox('getValue');
        var fleet = $("[name='radiobutton']:checked").val();
        if (effstr == "") {
            MsgAlert({content: '请先输入ACNO！', type: 'error'});
            return;
        }
        if (!fleet) {
            MsgAlert({content: '请先选择机队！', type: 'error'});
            return;
        }
        ajaxLoading();
        InitFuncCodeRequest_({
            data: {
                effstr: effstr, fleet: fleet, type: type, FunctionCode: "TD_APPL_AC_CEC"
            },
            successCallBack: function (jdata) {
                if (jdata.code == RESULT_CODE.SUCCESS_CODE) {
                    MsgAlert({content: $.i18n.t('msg_tip:TIP.COMMON.OPT_SUCCESS')});
                }
                var result = jdata.data;
                $("#cecValue1").textbox('setValue', result);
                ajaxLoadEnd();
            }
        });
    }

    function resetAll() {
        $("#acnoValue1").textbox('setValue', "");
        $("#cecValue1").textbox('setValue', "");
        $("#cecValue2").textbox('setValue', "");
        $("#acnoValue2").textbox('setValue', "");
        $("[name='radiobutton']:checked").prop("checked", false).change();
        $("[name='radiobutton2']:checked").prop("checked", false).change();
    }

    function cecToAcno() {
        var type = "cectoac";
        var effstr = $("#cecValue2").textbox('getValue');
        var fleet = $("[name='radiobutton2']:checked").val();
        if (effstr == "") {
            MsgAlert({content: '请先输入CEC！', type: 'error'});
            return;
        }
        if (!fleet) {
            MsgAlert({content: '请先选择机队！', type: 'error'});
            return;
        }
        ajaxLoading();
        InitFuncCodeRequest_({
            data: {
                effstr: effstr, fleet: fleet, type: type, FunctionCode: "TD_APPL_AC_CEC"
            },
            successCallBack: function (jdata) {
                if (jdata.code == RESULT_CODE.SUCCESS_CODE) {
                    MsgAlert({content: $.i18n.t('msg_tip:TIP.COMMON.OPT_SUCCESS')});
                }
                var result = jdata.data;
                $("#acnoValue2").textbox('setValue', result);
                ajaxLoadEnd();
            }
        });
    }
</script>
</body>
</html>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head id="stri18n_" module="">
    <!--#include virtual="/views/items/resource_.shtml"-->
</head>
<style>
</style>
<body >
<div>
    <table id='drList'>
    </table>
</div>
<script type="text/javascript" src="/js/datagrid_utils.js"></script>
<script type="text/javascript">

    param = getParentParam_();
    console.log(param.taskCode)
   // param.taskCode="53-00-01-1A-1"
    getDrList(param.subFleet,param.taskCode);

    function getDrList(subFleet,taskCode){
        var paramData = {
            "userdata":
                {
                    "subFleet": subFleet,
                    "taskCode": taskCode,
                }
        };
        $("#drList").MyDataGrid({
            identity: 'drList',
            url: '/api/v1/ee/effect/queryReDrListBySrm',
            method: 'post',
            sortable: true,
            singleSelect: true,
            fitColumns: false,
            rownumbers : true,
            pagination:true,
            pageSize:20,
            queryParams:paramData,
            columns: [
                {field: 'drAssessNo', title: '损伤编号', width: 200},
                {field: 'version', title: '版本', width: 80},
                {field: 'cnDescribe', title: '标题', width: 460},
            ],
        });
    }



</script>
</body>
</html>

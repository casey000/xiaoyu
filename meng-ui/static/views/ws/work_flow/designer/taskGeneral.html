<script type="text/javascript">
    <!--
    jq(function () {
        //loadTaskGeneral();
        InitTaskGeneral();
    });

    function saveTaskGeneral() {
        var data = getProData(jq("#pg").propertygrid('getData'));
        task.taskId = data.taskId;
        task.taskName = data.taskName;
        task.formKey = data.formKey;
        task.setContent(task.taskName);
        task.asynchronous = false;
        task.exclusive = false;
    }

    function InitTaskGeneral() {
        jq('#pg').propertygrid({
            columns: [[
                {field: 'name', title: '属性名'},
                {field: 'value', title: '属性值'}
            ]],
            onBeforeEdit: function () {
                //jq("#pg").parent().find(".datagrid-body").css({height: 'auto'});
            },
            onAfterEdit: function () {
                //jq("#pg").parent().find(".datagrid-body").css({height: 'auto'});
            },
            showGroup: true,
            scrollbarSize: 0
        });
        var rows = {
            total: 10, rows: [
                {"name": "ID", "group": "任务属性", "value": task.taskId, "fieldc": "taskId", "editor": "text"},
                {"name": "名称", "group": "任务属性", "value": task.taskName, "fieldc": "taskName", "editor": "text"},
                {
                    "name": "办理页面",
                    "group": "任务属性",
                    "value": task.pageTemplate,
                    "fieldc": "pageTemplate",
                    "editor": "text"
                },
                {
                    "name": "邮件提醒",
                    "group": "任务属性",
                    "value": task.sendEmail,
                    "fieldc": "sendEmail",
                    "editor": {type: 'checkbox', options: {on: '是', off: '否'}}
                },
                {"name": "影响业务SQL", "group": "任务属性", "value": task.execSql, "fieldc": "execSql", "editor": "text"},
                {
                    "name": "业务服务配置",
                    "group": "任务属性",
                    "value": task.execService,
                    "fieldc": "execService",
                    "editor": "text"
                },
                {"name": "表单KEY", "value": task.formKey, "group": "表单属性", "fieldc": "formKey", "editor": "text"}
            ]
        };
        rows = {
            "total": 4, "rows": [
                {"name": "Name", "value": "Bill Smith", "group": "ID Settings", "editor": "text"},
                {"name": "Address", "value": "", "group": "ID Settings", "editor": "text"},
                {"name": "SSN", "value": "123-456-7890", "group": "ID Settings", "editor": "text"},
                {
                    "name": "Email", "value": "bill@gmail.com", "group": "Marketing Settings", "editor": {
                        "type": "validatebox",
                        "options": {
                            "validType": "email"
                        }
                    }
                }
            ]
        };
        jq('#pg').propertygrid('loadData', rows);
        /*jq('#pg').propertygrid('updateRow', {
            index:2, row: {
                value: '新消息'
            }
        });*/
    }

    //-->
</script>
<table id="pg"></table>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head id="i18n_" module="">
    <!--#include virtual="/views/items/resource_.shtml"-->
    <title>碎屑材料库</title>
    <script type="text/javascript" src="/js/datagrid_utils.js"></script>
    <style type="text/css">
        td {
            padding: 2px;
        }

        button {
            width: 45px;
            height: 20px;
            margin-left: 3px;
            vertical-align: middle;
            border: 1px solid #cfcfcf;
            -moz-border-radius: 5px;
            border-radius: 5px;
            backgroud: #d5d5d5;
        }

        .addBtn {
            padding: 1px 10px;
        }
    </style>
</head>
<body>
<div style="width:95%;margin:0 auto;">
    <div class="ibox float-e-margins">
        <div class="ibox-content">
            <form class="form-horizontal m-t" id="mform">
                <div id="p0" class="easyui-panel" title="碎屑材料库" style="width: 100%"></div>
                <input type="hidden" id="pkid" name="pkid"/>
                <input type="hidden" id="deleteFlag" name="deleteFlag"/>
                <input type="hidden" id="createUser" name="createUser"/>
                <input type="hidden" id="createName" name="createName"/>
                <input type="hidden" id="createDate" name="createDate"/>
                <input type="hidden" id="elemAll" name="elemAll"/>

                <input type="hidden" id="modifyUser" name="modifyUser"/>
                <input type="hidden" id="modifyName" name="modifyName"/>
                <input type="hidden" id="modifyDate" name="modifyDate"/>
                <input type="hidden" id="proofUser" name="proofUser"/>
                <input type="hidden" id="proofName" name="proofName"/>
                <input type="hidden" id="proofDate" name="proofDate"/>
                <table class="table table-bordered table-info" style="width: 100%">
                    <tr>
                        <td colspan="8" align="right" style="padding: 0;">
                            <input class="btn btn-primary" type="button" id="saveBtn" onclick="save()" value="保存"/>
                            <input class="btn btn-primary" type="button" id="checkBtn" onclick="save()" value="校核"/>
                            <input class="btn btn-primary" type="button" onclick="CloseWindowIframe();" value="关闭"
                                   style="margin-left:3px;margin-right: 20px;"/>
                        </td>
                    </tr>
                    <tr>
                        <th style="width: 120px;">发动机型号：</th>
                        <td class="tdr">
                            <input class="easyui-combobox" id="engType" name="engType" data-options="required:true,validType:'comboBoxEditvalid[\'engType\']'"
                                   style="width: 160px;"/>
                        </td>
                        <th style="width: 120px;">材料名称：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="mateName" name="mateName" data-options="required:true"
                                   style="width: 160px;"/>
                        </td>
                        <th style="width: 120px;">材料类别：</th>
                        <td class="tdr">
                            <input class="easyui-combobox" id="mateType" name="mateType" data-options="required:true,validType:'comboBoxEditvalid[\'mateType\']'"
                                   style="width: 160px;"/>
                        </td>
                    </tr>
                    <tr>
                        <th>碎屑性质：</th>
                        <td class="tdr">
                            <input class="easyui-combobox" id="chipType" name="chipType" data-options="required:true,validType:'comboBoxEditvalid[\'chipType\']'"
                                   style="width: 160px;"/>
                        </td>
                        <th>碎屑描述：</th>
                        <td class="tdr" colspan="3">
                            <input class="easyui-textbox" id="chipDesc" name="chipDesc" data-options="required:true"
                                   style="width: 470px;"/>
                        </td>
                    </tr>
                    <tr>
                        <th>可能存在的位置：</th>
                        <td class="tdr" colspan="5">
                            <input class="easyui-textbox" id="posDesc" name="posDesc" data-options="required:true"
                                   style="width: 775px;"/>
                        </td>
                    </tr>
                </table>
                <div id="p1" class="easyui-panel" title="元素含量" style="width: 100%"></div>
                <table class="table table-bordered table-info" style="width: 100%" id="elementNum">
                    <tr>
                        <th style="width: 120px;"><span style="color: #dd0000">A</span>锕Ac：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemAc" name="elemAc" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">银Ag：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemAg" name="elemAg" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">铝Al：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemAl" name="elemAl" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">镅Am：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemAm" name="elemAm" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">氬Ar：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemAr" name="elemAr" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">砷As：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemAs" name="elemAs" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">砹At：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemAt" name="elemAt" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                    </tr>
                    <tr>
                        <th style="width: 120px;">金Au：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemAu" name="elemAu" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;"><span style="color: #dd0000">B</span>硼B：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemB" name="elemB" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">钡Ba：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemBa" name="elemBa" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">铍Be：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemBe" name="elemBe" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">𬭛Bh：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemBh" name="elemBh" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">铋Bi：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemBi" name="elemBi" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">锫Bk：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemBk" name="elemBk" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                    </tr>
                    <tr>
                        <th style="width: 120px;">溴Br：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemBr" name="elemBr" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;"><span style="color: #dd0000">C</span>碳C：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemC" name="elemC" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">钙Ca：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemCa" name="elemCa" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">镉Cd：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemCd" name="elemCd" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">铈Ce：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemCe" name="elemCe" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">锎Cf：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemCf" name="elemCf" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">氯CI：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemCl" name="elemCl" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                    </tr>
                    <tr>
                        <th style="width: 120px;">锔Cm：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemCm" name="elemCm" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">钴Co：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemCo" name="elemCo" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">铬Cr：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemCr" name="elemCr" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">铯Cs：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemCs" name="elemCs" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">铜Cu：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemCu" name="elemCu" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;"><span style="color: #dd0000">D</span>𬭊Db：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemDb" name="elemDb" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">𫟼Ds：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemDs" name="elemDs" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                    </tr>
                    <tr>
                        <th style="width: 120px;">镝Dy：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemDy" name="elemDy" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;"><span style="color: #dd0000">E</span>铒Er：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemEr" name="elemEr" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">锿Es：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemEs" name="elemEs" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">铕Eu：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemEu" name="elemEu" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;"><span style="color: #dd0000">F</span>氟F：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemF" name="elemF" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">铁Fe：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemFe" name="elemFe" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">镄Fm：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemFm" name="elemFm" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                    </tr>
                    <tr>
                        <th style="width: 120px;">钫Fr：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemFr" name="elemFr" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;"><span style="color: #dd0000">G</span>镓Ga：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemGa" name="elemGa" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">锗Ge：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemGe" name="elemGe" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">钆Gd：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemGd" name="elemGd" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;"><span style="color: #dd0000">H</span>氢H：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemH" name="elemH" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">氦He：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemHe" name="elemHe" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">铪Hf：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemHf" name="elemHf" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                    </tr>
                    <tr>
                        <th style="width: 120px;">汞Hg：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemHg" name="elemHg" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">钬Ho：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemHo" name="elemHo" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">𬭶Hs：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemHs" name="elemHs" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;"><span style="color: #dd0000">I</span>碘I：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemI" name="elemI" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">铟In：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemIn" name="elemIn" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">铱Ir：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemIr" name="elemIr" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;"><span style="color: #dd0000">K</span>钾K：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemK" name="elemK" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                    </tr>
                    <tr>
                        <th style="width: 120px;">氪Kr：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemKr" name="elemKr" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;"><span style="color: #dd0000">L</span>镧La：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemLa" name="elemLa" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">锂Li：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemLi" name="elemLi" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">铹Lr：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemLr" name="elemLr" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">镥Lu：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemLu" name="elemLu" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;"><span style="color: #dd0000">M</span>钔Md：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemMd" name="elemMd" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">镁Mg：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemMg" name="elemMg" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                    </tr>
                    <tr>
                        <th style="width: 120px;">锰Mn：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemMn" name="elemMn" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">钼Mo：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemMo" name="elemMo" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">鿏Mt：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemMt" name="elemMt" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;"><span style="color: #dd0000">N</span>氮N：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemN" name="elemN" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">钠Na：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemNa" name="elemNa" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">铌Nb：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemNb" name="elemNb" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">钕Nd：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemNd" name="elemNd" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                    </tr>
                    <tr>
                        <th style="width: 120px;">氖Ne：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemNe" name="elemNe" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">镍Ni：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemNi" name="elemNi" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">锘No：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemNo" name="elemNo" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">镎Np：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemNp" name="elemNp" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">Nr：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemNr" name="elemNr" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;"><span style="color: #dd0000">O</span>氧O：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemO" name="elemO" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">锇Os：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemOs" name="elemOs" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                    </tr>
                    <tr>
                        <th style="width: 120px;"><span style="color: #dd0000">P</span>磷P：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemP" name="elemP" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">镤Pa：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemPa" name="elemPa" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">铅Pb：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemPb" name="elemPb" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">钯Pd：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemPd" name="elemPd" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">钷Pm：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemPm" name="elemPm" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">钋Po：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemPo" name="elemPo" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">镨Pr：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemPr" name="elemPr" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                    </tr>
                    <tr>
                        <th style="width: 120px;">铂Pt：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemPt" name="elemPt" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">钚Pu：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemPu" name="elemPu" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;"><span style="color: #dd0000">R</span>镭Ra：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemRa" name="elemRa" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">铷Rb：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemRb" name="elemRb" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">铼Re：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemRe" name="elemRe" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">𬬻Rf：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemRf" name="elemRf" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">𬬭Rg：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemRg" name="elemRg" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                    </tr>
                    <tr>
                        <th style="width: 120px;">铑Rh：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemRh" name="elemRh" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">氡Rn：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemRn" name="elemRn" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">钌Ru：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemRu" name="elemRu" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;"><span style="color: #dd0000">S</span>硫S：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemS" name="elemS" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">锑Sb：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemSb" name="elemSb" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">钪Sc：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemSc" name="elemSc" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">硒Se：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemSe" name="elemSe" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                    </tr>
                    <tr>
                        <th style="width: 120px;">硅Si：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemSi" name="elemSi" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">钐Sm：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemSm" name="elemSm" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">锡Sn：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemSn" name="elemSn" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">锶Sr：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemSr" name="elemSr" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;"><span style="color: #dd0000">T</span>钽Ta：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemTa" name="elemTa" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">铽Tb：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemTb" name="elemTb" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">锝Tc：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemTc" name="elemTc" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                    </tr>
                    <tr>
                        <th style="width: 120px;">碲Te：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemTe" name="elemTe" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">钛Ti：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemTi" name="elemTi" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">钍Th：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemTh" name="elemTh" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">铊Tl：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemTl" name="elemTl" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">铥Tm：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemTm" name="elemTm" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;"><span style="color: #dd0000">U</span>铀U：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemU" name="elemU" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;"><span style="color: #dd0000">V</span>钒V：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemV" name="elemV" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                    </tr>
                    <tr>
                        <th style="width: 120px;"><span style="color: #dd0000">W</span>钨W：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemW" name="elemW" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;"><span style="color: #dd0000">X</span>氙Xe：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemXe" name="elemXe" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;"><span style="color: #dd0000">Y</span>钇Y：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemY" name="elemY" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">镱Yb：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemYb" name="elemYb" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;"><span style="color: #dd0000">Z</span>锌Zn：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemZn" name="elemZn" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">锆Zr：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemZr" name="elemZr" data-options="required:true,value:0,validType:['length[1,5]','number']"
                                   style="width: 60px;"/>
                        </td>
                        <th style="width: 120px;">其他：</th>
                        <td class="tdr">
                            <input class="easyui-textbox" id="elemOther" name="elemOther"
                                   data-options="required:true,value:0,validType:['length[1,5]','number']" style="width: 60px;"/>
                        </td>
                    </tr>
                </table>
            </form>
        </div>
    </div>
</div>
<script>
    var param = {};
    var pkid;
    var operation;
    var user;
    function i18nCallBack() {
        param = getParentParam_();
        pkid = param.pkid;
        user = getLoginInfo();
        operation = param.operation;

        InitGatewayRequest_({
            type: "get",
            async: false,
            // path: "/meng-engine/baseOwn/getEngType",
            path: "/meng-engine/baseOwn/getEngTypeNew",
            successCallBack: function (jdata) {
                if (jdata.success == true) {
                    $('#engType').combobox({
                        data: jdata.obj,
                        valueField: 'VALUE',
                        textField: 'TEXT',
                        panelHeight: '150px',
                    });
                } else {
                    MsgAlert({content: '获取发动机型号列表失败', type: 'error'});
                }
            }
        });

        InitFuncCodeRequest_({
            async: false,
            data: {
                domainCode: "ENG_MCD_MATE_TYPE,ENG_MCD_MATE_CHIP_TYPE",
                FunctionCode: "ANALYSIS_DOMAIN_BYCODE"
            },
            successCallBack: function (jdata) {
                if (jdata.code == RESULT_CODE.SUCCESS_CODE) {
                    //材料类别
                    $('#mateType').combobox({
                        panelHeight: '60px',
                        data: jdata.data.ENG_MCD_MATE_TYPE,
                        valueField: 'VALUE',
                        textField: 'TEXT'
                    });
                    //碎屑性质
                    $('#chipType').combobox({
                        panelHeight: '60px',
                        data: jdata.data.ENG_MCD_MATE_CHIP_TYPE,
                        valueField: 'VALUE',
                        textField: 'TEXT'
                    });
                } else {
                    MsgAlert({content: jdata.msg, type: 'error'});
                }
            }
        });

        if ("view" == operation) {
            $(".easyui-textbox").textbox({required: false, onlyview: true});
            $(".easyui-combobox").combobox({required: false, onlyview: true});
            $("#saveBtn").hide();
            $("#checkBtn").hide();
        }else if ("edit" == operation){
            $("#engType").combobox({required: false, onlyview: true,editable:false});
            $("#mateName").textbox({required: false, onlyview: true,editable:false});
        }else if ("check" == operation){
            $(".easyui-textbox").textbox({required: false, onlyview: true,editable:false});
            $(".easyui-combobox").combobox({required: false, onlyview: true,editable:false});
            $("#saveBtn").hide();
        }

        if (pkid) {
            InitDataForm(pkid);
        }

        if ("edit" == operation) {
            $("#checkBtn").hide();
            $("#modifyUser").val(user.accountId);
            $("#modifyName").val(user.userName);
            $("#modifyDate").val(new Date().Format("yyyy-MM-dd"));
        } else if ("check" == operation) {
            $("#saveBtn").hide();
            $("#proofUser").val(user.accountId);
            $("#proofName").val(user.userName);
            $("#proofDate").val(new Date().Format("yyyy-MM-dd"));
        } else if ("add" == operation) {
            $("#checkBtn").hide();
            $("#createUser").val(user.accountId);
            $("#createName").val(user.userName);
            $("#createDate").val(new Date().Format("yyyy-MM-dd"));
            $("#modifyUser").val(user.accountId);
            $("#modifyName").val(user.userName);
            $("#modifyDate").val(new Date().Format("yyyy-MM-dd"));
        }
    }

    //保存
    function save() {
        var isValidate = $("#mform").form('validate');
        if (!isValidate) {
            return;
        }
        var number = 0;
        var elementAddValue = "";
        $("#elementNum .easyui-textbox").each(function () {
            var val = new Number($(this).val())
            var idValue = $(this).attr("id");
            idValue = idValue.substring(idValue.indexOf("m") + 1, idValue.length);
            var num = parseFloat(val);
            if (num < 0) {
                MsgAlert({content: "元素含量不能为负数！", type: 'error'});
                return;
            }
            number = num + number;
            if (num > 0) {
                elementAddValue = elementAddValue + idValue + ":" + num + ";";
            }
        });
        if (95 > parseFloat(number) || parseFloat(number) > 105) {
            MsgAlert({content: "所有元素之和必须在95-105之间！", type: 'error'});
            return;
        }
        $("#elemAll").val(elementAddValue);
        saveOrUpdateData(operation);
    }

    function saveOrUpdateData(operation) {
        var $form = $("#mform");
        var ifExit = 0;
        var datas = $form.serializeObject();
        if (operation == "add") {
            //encodeURI("汉字传递")
            InitGatewayRequest_({
                type: "get",
                async: false,
                path: "/meng-engine/mcdMate/ifExit/"+datas.engType+"/" + datas.mateName,
                successCallBack: function (jdata) {
                    ifExit = jdata.obj;
                }
            });

            if (ifExit != 0) {
                MsgAlert({content: '系统中已存在相同数据，请核查后再进行保存！', type: 'error'});
                return;
            }

            InitGatewayRequest_({
                async: false,
                path: "/meng-engine/mcdMate/insertMate",
                data: datas,
                successCallBack: function (jdata) {
                    if (jdata.success == true) {
                        param.OWindow.MsgAlert({content: $.i18n.t('msg_tip:TIP.COMMON.OPT_SUCCESS')});
                        param.OWindow.onSearchClick();
                        CloseWindowIframe();
                    } else {
                        MsgAlert({content: '操作失败', type: 'error'});
                    }
                }
            });
        } else {
            InitGatewayRequest_({
                async: false,
                path: "/meng-engine/mcdMate/updateByPrimaryKey",
                data: datas,
                successCallBack: function (jdata) {
                    if (jdata.success == true) {
                        param.OWindow.MsgAlert({content: $.i18n.t('msg_tip:TIP.COMMON.OPT_SUCCESS')});
                        param.OWindow.onSearchClick();
                        CloseWindowIframe();
                    } else {
                        MsgAlert({content: '操作失败', type: 'error'});
                    }
                }
            });
        }
    }

    //回显
    function InitDataForm(pkid) {
        InitGatewayRequest_({
            type: "get",
            async: false,
            path: "/meng-engine/mcdMate/selectByPrimaryKey/" + pkid,
            successCallBack: function (jdata) {
                if (jdata.success == true) {
                    ParseFormField_(jdata.obj, $("#mform"));
                } else {
                    MsgAlert({content: '操作失败', type: 'error'});
                }
            }
        });
    }

    //下拉框校验
    $.extend($.fn.validatebox.defaults.rules, {
        comboBoxEditvalid: { //校验下拉菜单
            validator: function (value, param) {
                var $combobox = $("#" + param[0]);
                if (value) {
                    var result = true;
                    var allData = $combobox.combobox('getData');
                    for(var i = 0; i< allData.length; i++){
                        if(value == allData[i].TEXT){
                            result = false;
                            break;
                        }
                    }
                    if(result){
                        return false;
                    }else{
                        return true;
                    }

                }
                return false;

            },
            message: '请选择下拉框选项，不要直接使用输入内容'
        },
    });

</script>
</body>
</html>
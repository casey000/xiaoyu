<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head id="i18n_" module="">
    <!--#include virtual="/views/items/resource_.shtml"-->
    <title>发动机引进预评估</title>
    <script type="text/javascript" src="/js/datagrid_utils.js"></script>
    <style type="text/css">
        td {
            padding: 2px;
        }

        button {
            width: 45px;
            height: 20px;
            margin-left: 3px;
            vertical-align: middle;
            border: 1px solid #cfcfcf;
            -moz-border-radius: 5px;
            border-radius: 5px;
            backgroud: #d5d5d5;
        }

        .addBtn {
            padding: 1px 10px;
        }
    </style>
</head>
<body>
<div id="tt" class="easyui-tabs" style="width:98%;height:650px;text-align: center;">
    <table>
        <tr>
            <td>
                <fieldset class="fieldset_eui">
                    发动机引进预评估
                    <input class="btn btn-primary" type="button" onclick="CloseWindowIframe();" value="关闭"
                           style="margin: 5px;margin-left:700px"/>
                </fieldset>
            </td>
        </tr>
    </table>
    <div id="tab1" title="Engine Basic info" style="">
        <form class="form-horizontal m-t" id="mform1">
            <input name="pkid" id="pkid1" type="hidden">
            <table class="table table-bordered table-info" style="width: 98%">
                <tr class ="btnTr">
                    <td colspan="4" align="right" >
                        <fieldset class="fieldset_eui">
                            <input class="btn btn-primary" auth="ENG_INT_PRE_EVA11" type="button" id="saveBtn1" onclick="save('1')" style="margin: 5px;margin-left:400px" value="保存"/>
                        </fieldset>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;"><span style="color: red">*</span>ENGINE TYPE：</th>
                    <td class="tdr">
                        <input class="easyui-combobox" id="epn" name="epn" style="width: 200px;"/>
                    </td>
                    <th style="width: 165px;"><span style="color: red">*</span>ESN：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="esn" name="esn"   style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;"><span style="color: red">*</span>ENGINE SUB TYPE：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="epnSub" name="epnSub"   style="width: 200px;"/>
                    </td>
                    <th style="width: 165px;"><span style="color: red">*</span>Oil band：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="oilPartNo" name="oilPartNo"   style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;"><span style="color: red">*</span>Introduction：</th>
                    <td class="tdr">
                        <input class="easyui-combobox" id="zzfrom" name="zzfrom" data-options="editable:false" style="width: 200px;"/>
                    </td>
                    <th style="width: 165px;"><span style="color: red">*</span>As of Date：</th>
                    <td class="tdr">
                        <input class="easyui-datebox" id="calDate" name="calDate" data-options="editable:false" style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;"></th>
                    <td><p style="color: #cd0a0a">请填写上运营人交付节点数据（不含调机）</p></td>
                </tr>
                <tr>
                    <th style="width: 165px;"><span style="color: red">*</span>TSN：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="tsn1" data-options="validType:['floatLength[10,2]']"  name="tsn"   style="width: 200px;"/>
                    </td>
                    <th style="width: 165px;"><span style="color: red">*</span>CSN：</th>
                    <td class="tdr">
                        <input class="easyui-textbox easyui-numberbox" id="csn1" data-options="validType:['length[1,8]']" missingMessage="必须填写8位以内整数!" name="csn"   style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;"><span style="color: red">*</span>TSO：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="tso1" name="tso"   data-options="validType:['floatLength[10,2]']"  style="width: 200px;"/>
                    </td>
                    <th style="width: 165px;"><span style="color: red">*</span>CSO：</th>
                    <td class="tdr">
                        <input class="easyui-textbox easyui-numberbox" id="cso1" name="cso"  data-options="validType:['length[1,8]']" missingMessage="必须填写8位以内整数!"  style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;"><span style="color: red">*</span>TSLSV：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="tslsv" name="tslsv"   style="width: 200px;"/>
                    </td>
                    <th style="width: 165px;"><span style="color: red">*</span>CSLSV：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="cslsv" name="cslsv"   style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;"><span style="color: red">*</span>Ferry flight hours：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="fh" name="fh"   style="width: 200px;"/>
                    </td>
                    <th style="width: 165px;"><span style="color: red">*</span>Ferry flight cycles：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="fc" name="fc"   style="width: 200px;"/>
                    </td>
                </tr>

                <tr>
                    <th style="width: 165px;">Preservation：</th>
                    <td class="tdr">
                        <input class="easyui-combobox" id="pres" name="pres" data-options="editable:false,required: true" style="width: 200px;"/>
                    </td>
                    <th style="width: 165px;"></th>
                    <td class="tdr"></td>
                </tr>

                <tr>
                    <th style="width: 165px;">Preservation date：</th>
                    <td class="tdr">
                        <input class="easyui-datebox" id="presDate" name="presDate" data-options="editable:false" style="width: 200px;"/>
                    </td>
                    <th style="width: 165px;"><span style="color: red">*</span>Preservation period：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="presLimit" name="presLimit"   style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 100px;"><span style="color: red">*</span>Remark：</th>
                    <td colspan="3">
                                <textarea class="easyui-textbox " id="remark" name="remark" multiline="true"
                                          style="height:100px;width: 98%;border: 1px solid #ddd;border-radius: 5px;"
                                           ></textarea>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;">维护人：</th>
                    <td class="tdr">
                        <input class="easyui-textbox modifyName" id="modifyName1" name="modifyName" style="width: 200px;" data-options="onlyview:true,editable:false"/>
                    </td>
                    <th style="width: 165px;">维护日期：</th>
                    <td class="tdr">
                        <input class="easyui-datebox modifyDate" id="modifyDate1" name="modifyDate" style="width: 200px;" data-options="onlyview:true,editable:false"/>
                    </td>
                </tr>
                <tr>
                    <td class="tdr" colspan="4" >
                        <fieldset id="att1" class="fieldset_eui" style="border-width: 1px; border-color: #008000;">
                            <legend data-i18n="">附件：</legend>
                            <input class="btn btn-primary btnTr" type="button" id="uploadBtn1" onclick="uploadInt('1')" style="margin: 10px;margin-left:700px" value="上传"/>
                            <table id='dg1'>
                            </table>
                        </fieldset>
                    </td>
                </tr>
                <tr style="height: 90px">
                    <td colspan="4"></td>
                </tr>
            </table>
        </form>
    </div>
    <div id="tab8" title="Conclusion" style="">
        <form class="form-horizontal m-t" id="mform8">
            <input name="pkid" id="pkid8" type="hidden">
            <table class="table table-bordered table-info" style="width: 98%">
                <tr class ="btnTr">
                    <td colspan="4" align="right" >
                        <fieldset class="fieldset_eui">
                            <input class="btn btn-primary" type="button" id="default8" onclick="defau('8')" style="margin: 5px;" value="批量默认"/>
                            <input class="btn btn-primary" auth="ENG_INT_PRE_EVA18" type="button" id="saveBtn8" onclick="save('8')" style="margin: 5px;" value="保存"/>
                        </fieldset>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;"><span style="color: red">*</span>Thrust Rating1：</th>
                    <td class="tdr">
                        <input class="easyui-combobox llpType" id="llpType18" name="llpType1" data-options="editable:false" style="width: 200px;"/>
                    </td>
                    <th style="width: 165px;"><span style="color: red">*</span>Remain Cycle ：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="llpValue18" name="llpValue1"   style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;"><span style="color: red">*</span>Thrust Rating2：</th>
                    <td class="tdr">
                        <input class="easyui-combobox llpType" id="llpType28" name="llpType2" data-options="editable:false" style="width: 200px;"/>
                    </td>
                    <th style="width: 165px;"><span style="color: red">*</span>Remain Cycle ：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="llpValue28" name="llpValue2"   style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 100px;"><span style="color: red">*</span>Evaluation：</th>
                    <td colspan="3">
                                <textarea class="easyui-textbox " id="conclusion8" name="conclution" multiline="true"
                                          style="height:200px;width: 99%;border: 1px solid #ddd;border-radius: 5px;"></textarea>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;"><span style="color: red">*</span>If induction：</th>
                    <td class="tdr">
                        <input class="easyui-combobox" id="ifIntEva" name="ifIntEva" data-options="editable:false" style="width: 200px;"/>
                    </td>
                    <th style="width: 165px;">Summary：</th>
                    <td class="tdr">
                        <input class="easyui-combobox" id="sumary" name="sumary" data-options="editable:false" style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;">维护人：</th>
                    <td class="tdr">
                        <input class="easyui-textbox modifyName" id="modifyName8" name="modifyName" style="width: 200px;" data-options="onlyview:true,editable:false"/>
                    </td>
                    <th style="width: 165px;">维护日期：</th>
                    <td class="tdr">
                        <input class="easyui-datebox modifyDate" id="modifyDate8" name="modifyDate" style="width: 200px;" data-options="onlyview:true,editable:false"/>
                    </td>
                </tr>
                <tr>
                    <td class="tdr" colspan="4" >
                        <fieldset id="att8" class="fieldset_eui" style="border-width: 1px; border-color: #008000;">
                            <legend data-i18n="">附件：</legend>
                            <input class="btn btn-primary btnTr" type="button" id="uploadBtn8" onclick="uploadInt('8')" style="margin: 10px;margin-left:700px" value="上传"/>
                            <table id='dg8'>
                            </table>
                        </fieldset>
                    </td>
                </tr>
                <tr style="height: 90px">
                    <td colspan="4"></td>
                </tr>
            </table>
        </form>
    </div>
    <div id="tab2" title="AD Status Report" style="">
        <form class="form-horizontal m-t" id="mform2">
            <input name="pkid" id="pkid2" type="hidden">
            <input name="preEvaId" class="preEvaId" type="hidden">
            <table class="table table-bordered table-info" style="width: 98%">
                <tr class ="btnTr">
                    <td colspan="4" align="right" >
                        <fieldset class="fieldset_eui">
                            <input class="btn btn-primary" auth="ENG_INT_PRE_EVA12" type="button" id="saveBtn2" onclick="save('2')" style="margin: 5px;margin-left:400px" value="保存"/>
                        </fieldset>
                    </td>
                </tr>
                <tr>
                    <th style="width: 100px;"><span style="color: red">*</span>Evaluation：</th>
                    <td colspan="3">
                                <textarea class="easyui-textbox " id="adEva" name="adEva" multiline="true"
                                          style="height:200px;width: 99%;border: 1px solid #ddd;border-radius: 5px;"
                                           ></textarea>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;">维护人：</th>
                    <td class="tdr">
                        <input class="easyui-textbox modifyName" id="modifyName2" name="modifyName" style="width: 200px;" data-options="onlyview:true,editable:false"/>
                    </td>
                    <th style="width: 165px;">维护日期：</th>
                    <td class="tdr">
                        <input class="easyui-datebox modifyDate" id="modifyDate2" name="modifyDate" style="width: 200px;" data-options="onlyview:true,editable:false"/>
                    </td>
                </tr>
                <tr>
                    <td class="tdr" colspan="4" >
                        <fieldset id="att2" class="fieldset_eui" style="border-width: 1px; border-color: #008000;">
                            <legend data-i18n="">附件：</legend>
                            <input class="btn btn-primary btnTr" type="button" id="uploadBtn2" onclick="uploadInt('2')" style="margin: 10px;margin-left:700px" value="上传"/>
                            <table id='dg2'>
                            </table>
                        </fieldset>
                    </td>
                </tr>
                <tr style="height: 90px">
                    <td colspan="4"></td>
                </tr>
            </table>
        </form>
    </div>
    <div id="tab3" title="LLP Limiter" style="">
        <form class="form-horizontal m-t" id="mform3">
            <input name="pkid" id="pkid3" type="hidden">
            <input name="preEvaId" class="preEvaId" type="hidden">
            <table class="table table-bordered table-info" style="width: 98%">
                <tr class ="btnTr">
                    <td colspan="4" align="right" >
                        <fieldset class="fieldset_eui">
                            <input class="btn btn-primary" type="button" id="default3" onclick="defau('3')" style="margin: 5px;margin-left:400px" value="批量默认"/>
                            <input class="btn btn-primary" auth="ENG_INT_PRE_EVA13" type="button" id="saveBtn3" onclick="save('3')" style="margin: 5px;" value="保存"/>
                        </fieldset>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;"><span style="color: red">*</span>Thrust Rating1：</th>
                    <td class="tdr">
                        <input class="easyui-combobox llpType" id="llpType1" name="llpType1" data-options="editable:false" style="width: 200px;"/>
                    </td>
                    <th style="width: 165px;"><span style="color: red">*</span>Remain Cycle ：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="llpValue1" name="llpValue1"   style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;"><span style="color: red">*</span>Thrust Rating2：</th>
                    <td class="tdr">
                        <input class="easyui-combobox llpType" id="llpType2" name="llpType2" data-options="editable:false" style="width: 200px;"/>
                    </td>
                    <th style="width: 165px;"><span style="color: red">*</span>Remain Cycle ：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="llpValue2" name="llpValue2"   style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;"><span style="color: red">*</span>LLP Limiter：</th>
                    <td colspan="3" class="tdr">
                        <input class="easyui-textbox" id="llpLimiter" name="llpLimiter"   style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 100px;"><span style="color: red">*</span>Evaluation：</th>
                    <td colspan="3">
                                <textarea class="easyui-textbox " id="llpEva" name="llpEva" multiline="true"
                                          style="height:200px;width: 99%;border: 1px solid #ddd;border-radius: 5px;"
                                           ></textarea>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;">维护人：</th>
                    <td class="tdr">
                        <input class="easyui-textbox modifyName" id="modifyName3" name="modifyName" style="width: 200px;" data-options="onlyview:true,editable:false"/>
                    </td>
                    <th style="width: 165px;">维护日期：</th>
                    <td class="tdr">
                        <input class="easyui-datebox modifyDate" id="modifyDate3" name="modifyDate" style="width: 200px;" data-options="onlyview:true,editable:false"/>
                    </td>
                </tr>
                <tr>
                    <td class="tdr" colspan="4" >
                        <fieldset id="att3" class="fieldset_eui" style="border-width: 1px; border-color: #008000;">
                            <legend data-i18n="">附件：</legend>
                            <input class="btn btn-primary btnTr" type="button" id="uploadBtn3" onclick="uploadInt('3')" style="margin: 10px;margin-left:700px" value="上传"/>
                            <table id='dg3'>
                            </table>
                        </fieldset>
                    </td>
                </tr>
                <tr style="height: 90px">
                    <td colspan="4"></td>
                </tr>
            </table>
        </form>
    </div>
    <div id="tab4" title="Last Performance Restoration Report" style="">
        <form class="form-horizontal m-t" id="mform4">
            <input name="pkid" id="pkid4" type="hidden">
            <input name="preEvaId" class="preEvaId" type="hidden">
            <table class="table table-bordered table-info" style="width: 98%">
                <tr class ="btnTr">
                    <td colspan="4" align="right" >
                        <fieldset class="fieldset_eui">
                            <input class="btn btn-primary" type="button" id="default4" onclick="defau('4')" style="margin: 5px;margin-left:400px" value="批量默认"/>
                            <input class="btn btn-primary" type="button" id="unitRepire4" onclick="unitRepair()" style="margin: 5px;" value="单元体修理记录"/>
                            <input class="btn btn-primary" auth="ENG_INT_PRE_EVA14" type="button" id="saveBtn4" onclick="save('4')" style="margin: 5px;" value="保存"/>
                        </fieldset>
                    </td>
                </tr>
                <tr id="unitRepire4a">
                    <td colspan="4" align="right" >
                        <input class="btn btn-primary" type="button" onclick="unitRepair()" style="margin: 5px;" value="单元体修理记录"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;"><span style="color: red">*</span>Date：</th>
                    <td class="tdr">
                        <input class="easyui-datebox" id="repairDate" name="repairDate" data-options="editable:false" style="width: 200px;"/>
                    </td>
                    <th style="width: 200px;">ENGINE TYPE：</th>
                    <td class="tdr">
                        <input class="easyui-combobox" id="engType" name="engType" data-options="required: true" style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 200px;">Facility：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="mro" name="mro" data-options="required: true" style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 100px;"><span style="color: red">*</span>Removal reason：</th>
                    <td colspan="3">
                                <textarea class="easyui-textbox " id="removalReason" name="removalReason" multiline="true"
                                          style="height:100px;width: 99%;border: 1px solid #ddd;border-radius: 5px;"
                                           ></textarea>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;">TSN：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="tsn4" name="tsn" data-options="validType:['floatLength[10,2]']"  style="width: 200px;"/>
                    </td>
                    <th style="width: 165px;">CSN：</th>
                    <td class="tdr">
                        <input class="easyui-textbox easyui-numberbox" id="csn4" name="csn"  data-options="validType:['length[1,8]']" missingMessage="必须填写8位以内整数!" style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;"><span style="color: red">*</span>HPT BLADE：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="hptBlade" name="hptBlade"   style="width: 200px;"/>
                    </td>
                    <th style="width: 165px;"><span style="color: red">*</span>HPT NGV：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="hptNgv" name="hptNgv"   style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;"><span style="color: red">*</span>Thrust Rating1：</th>
                    <td class="tdr">
                        <input class="easyui-combobox llpType" id="llpType14" name="llpType1" data-options="editable:false" style="width: 200px;"/>
                    </td>
                    <th style="width: 165px;"><span style="color: red">*</span>Remain Cycle ：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="llpValue14" name="llpValue1"   style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;"><span style="color: red">*</span>Thrust Rating2：</th>
                    <td class="tdr">
                        <input class="easyui-combobox llpType" id="llpType24" name="llpType2" data-options="editable:false" style="width: 200px;"/>
                    </td>
                    <th style="width: 165px;"><span style="color: red">*</span>Remain Cycle ：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="llpValue24" name="llpValue2"   style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;"><span style="color: red">*</span>Cell Test N1 Vib：</th>
                    <td  class="tdr">
                        <input class="easyui-textbox" id="ctN1vib" name="ctN1vib"   style="width: 200px;"/>
                    </td>
                    <th style="width: 165px;"><span style="color: red">*</span>Cell Test N2 Vib：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="ctN2vib" name="ctN2vib"   style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;"><span style="color: red">*</span>Cell Test N3 Vib：</th>
                    <td  class="tdr">
                        <input class="easyui-textbox" id="ctN3vib" name="ctN3vib"   style="width: 200px;"/>
                    </td>
                    <th style="width: 165px;"><span style="color: red">*</span>Peak EGT-STARTING：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="startingEgt" name="startingEgt"   style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;"><span style="color: red">*</span>Fan N1 Vibe：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="fanN1vib" name="fanN1vib"   style="width: 200px;"/>
                    </td>
                    <th style="width: 165px;"><span style="color: red">*</span>Fan N2 Vibe：</th>
                    <td  class="tdr">
                        <input class="easyui-textbox" id="fanN2vib" name="fanN2vib"   style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;"><span style="color: red">*</span>TRF N1 Vibe：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="trfN1vib" name="trfN1vib"   style="width: 200px;"/>
                    </td>
                    <th style="width: 165px;"><span style="color: red">*</span>TRF N2 Vibe：</th>
                    <td  class="tdr">
                        <input class="easyui-textbox" id="trfN2vib" name="trfN2vib"   style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;"><span style="color: red">*</span>Time To Minimum Idle：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="ttmi" name="ttmi"   style="width: 200px;"/>
                    </td>
                    <th style="width: 165px;"><span style="color: red">*</span>Acceleration Time：</th>
                    <td  class="tdr">
                        <input class="easyui-textbox" id="acceTime5" name="acceTime"   style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;"><span style="color: red">*</span>Cell Test Take-off EGTM：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="cttEgtm" name="cttEgtm"   style="width: 200px;"/>
                    </td>
                    <th style="width: 165px;"><span style="color: red">*</span>Cell Test Max Continue EGTM：</th>
                    <td  class="tdr">
                        <input class="easyui-textbox" id="ctmcEgtm" name="ctmcEgtm"   style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;"><span style="color: red">*</span>Oil Pressure：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="oilPress4" name="oilPress"   style="width: 200px;"/>
                    </td>
                    <th style="width: 165px;"><span style="color: red">*</span>Cell Test Oil Consumption：</th>
                    <td  class="tdr">
                        <input class="easyui-textbox" id="ctoc" name="ctoc"   style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;"><span style="color: red">*</span>PMA/DER：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="pmaDer" name="pmaDer"   style="width: 200px;"/>
                    </td>
                    <th style="width: 165px;"><span style="color: red">*</span>Maintenance Level：</th>
                    <td  class="tdr">
                        <input class="easyui-combobox" id="repairLevel" name="repairLevel" data-options="editable:false" style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;"><span style="color: red">*</span>LPT STG1 NOZZLE：</th>
                    <td class="tdr" colspan="3">
                        <input class="easyui-textbox" id="lptStg1Nozzle" name="lptStg1Nozzle"   style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 100px;"><span style="color: red">*</span>Workscope：</th>
                    <td colspan="3">
                                <textarea class="easyui-textbox " id="workscope" name="workscope" multiline="true"
                                          style="height:100px;width: 99%;border: 1px solid #ddd;border-radius: 5px;"
                                           ></textarea>
                    </td>
                </tr>
                <tr>
                    <th style="width: 100px;"><span style="color: red">*</span>Evaluation：</th>
                    <td colspan="3">
                                <textarea class="easyui-textbox " id="conclusion4" name="repairEva" multiline="true"
                                          style="height:100px;width: 99%;border: 1px solid #ddd;border-radius: 5px;"
                                           ></textarea>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;">维护人：</th>
                    <td class="tdr">
                        <input class="easyui-textbox modifyName" id="modifyName4" name="modifyName" style="width: 200px;" data-options="onlyview:true,editable:false"/>
                    </td>
                    <th style="width: 165px;">维护日期：</th>
                    <td class="tdr">
                        <input class="easyui-datebox modifyDate" id="modifyDate4" name="modifyDate" style="width: 200px;" data-options="onlyview:true,editable:false"/>
                    </td>
                </tr>
                <tr>
                    <td class="tdr" colspan="4" >
                        <fieldset id="att4" class="fieldset_eui" style="border-width: 1px; border-color: #008000;">
                            <legend data-i18n="">附件：</legend>
                            <input class="btn btn-primary btnTr" type="button" id="uploadBtn4" onclick="uploadInt('4')" style="margin: 10px;margin-left:700px" value="上传"/>
                            <table id='dg4'>
                            </table>
                        </fieldset>
                    </td>
                </tr>
                <tr style="height: 90px">
                    <td colspan="4"></td>
                </tr>
            </table>
        </form>
    </div>
    <div id="tab5" title="Performace Data Report for last 6 months" style="">
        <form class="form-horizontal m-t" id="mform5">
            <input name="pkid" id="pkid5" type="hidden">
            <input name="preEvaId" class="preEvaId" type="hidden">
            <table class="table table-bordered table-info" style="width: 98%">
                <tr class ="btnTr">
                    <td colspan="4" align="right" >
                        <fieldset class="fieldset_eui">
                            <input class="btn btn-primary" type="button" id="default5" onclick="defau('5')" style="margin: 5px;" value="批量默认"/>
                            <input class="btn btn-primary" auth="ENG_INT_PRE_EVA15" type="button" id="saveBtn5" onclick="save('5')" style="margin: 5px;" value="保存"/>
                        </fieldset>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;"><span style="color: red">*</span>As of Date：</th>
                    <td class="tdr">
                        <input class="easyui-datebox" id="asOrDate" name="asOrDate" data-options="editable:false" style="width: 200px;"/>
                    </td>
                    <th style="width: 165px;"><span style="color: red">*</span>Thrust Rating：</th>
                    <td class="tdr">
                        <input class="easyui-combobox thrustRating" id="thrustRating5" name="thrustRating"   style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;"><span style="color: red">*</span>N1 Vib：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="n1Vib5" name="n1Vib"   style="width: 200px;"/>
                    </td>
                    <th style="width: 165px;"><span style="color: red">*</span>N2 Vib：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="n2Vib5" name="n2Vib"   style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;"><span style="color: red">*</span>N3 Vib：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="n3Vib5" name="n3Vib"   style="width: 200px;"/>
                    </td>
                    <th style="width: 165px;"><span style="color: red">*</span>EGTM：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="egtm" name="egtm"   style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;"><span style="color: red">*</span>Thrust Derate：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="thrustDerate" name="thrustDerate"   style="width: 200px;"/>
                    </td>
                    <th style="width: 165px;"><span style="color: red">*</span>Oil Consumption：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="oilCons" name="oilCons"   style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 100px;"><span style="color: red">*</span>Evaluation：</th>
                    <td colspan="3">
                                <textarea class="easyui-textbox " id="conclusion5" name="perEva" multiline="true"
                                          style="height:200px;width: 99%;border: 1px solid #ddd;border-radius: 5px;"
                                           ></textarea>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;">维护人：</th>
                    <td class="tdr">
                        <input class="easyui-textbox modifyName" id="modifyName5" name="modifyName" style="width: 200px;" data-options="onlyview:true,editable:false"/>
                    </td>
                    <th style="width: 165px;">维护日期：</th>
                    <td class="tdr">
                        <input class="easyui-datebox modifyDate" id="modifyDate5" name="modifyDate" style="width: 200px;" data-options="onlyview:true,editable:false"/>
                    </td>
                </tr>
                <tr>
                    <td class="tdr" colspan="4" >
                        <fieldset id="att5" class="fieldset_eui" style="border-width: 1px; border-color: #008000;">
                            <legend data-i18n="">附件：</legend>
                            <input class="btn btn-primary btnTr" type="button" id="uploadBtn5" onclick="uploadInt('5')" style="margin: 10px;margin-left:700px" value="上传"/>
                            <table id='dg5'>
                            </table>
                        </fieldset>
                    </td>
                </tr>
                <tr style="height: 90px">
                    <td colspan="4"></td>
                </tr>
            </table>
        </form>
    </div>
    <div id="tab6" title="Last onwing Ground Run MPA Report" style="">
        <form class="form-horizontal m-t" id="mform6">
            <input name="pkid" id="pkid6" type="hidden">
            <input name="preEvaId" class="preEvaId" type="hidden">
            <table class="table table-bordered table-info" style="width: 98%">
                <tr class ="btnTr">
                    <td colspan="4" align="right" >
                        <fieldset class="fieldset_eui">
                            <input class="btn btn-primary" type="button" id="default6" onclick="defau('6')" style="margin: 5px;" value="批量默认"/>
                            <input class="btn btn-primary" auth="ENG_INT_PRE_EVA16" type="button" id="saveBtn6" onclick="save('6')" style="margin: 5px;" value="保存"/>
                        </fieldset>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;">As of Date：</th>
                    <td class="tdr">
                        <input class="easyui-datebox" id="testDate" name="testDate" data-options="editable:false" style="width: 200px;"/>
                    </td>
                    <th style="width: 165px;">Thrust Rating：</th>
                    <td class="tdr">
                        <input class="easyui-combobox thrustRating" id="thrustRating6" name="thrustRating" data-options="" style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;">N1 Vib：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="n1Vib6" name="n1Vib" data-options="" style="width: 200px;"/>
                    </td>
                    <th style="width: 165px;">N2 Vib：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="n2Vib6" name="n2Vib" data-options="" style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;">N3 Vib：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="n3Vib6" name="n3Vib" data-options="" style="width: 200px;"/>
                    </td>
                    <th style="width: 165px;">BB Vib：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="bbVib" name="bbVib" data-options="" style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;">N1：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="n1" name="n1" data-options="" style="width: 200px;"/>
                    </td>
                    <th style="width: 165px;">N2：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="n2" name="n2" data-options="" style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;">N3：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="n3" name="n3" data-options="" style="width: 200px;"/>
                    </td>
                    <th style="width: 165px;">EGT：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="egt" name="egt" data-options="" style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;">Acceleration Time：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="acceTime6" name="acceTime" data-options="" style="width: 200px;"/>
                    </td>
                    <th style="width: 165px;">FUEL FLOW：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="fuelFlow" name="fuelFlow" data-options="" style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;">OIL PRESS：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="oilPress6" name="oilPress" data-options="" style="width: 200px;"/>
                    </td>
                    <th style="width: 165px;">OIL TEMP：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="oilTemp" name="oilTemp" data-options="" style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;">CALCULATED MIN RATED THRUST EPR：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="cmrte" name="cmrte" data-options="" style="width: 200px;"/>
                    </td>
                    <th style="width: 165px;">EEC SUPERVISORY ON MIN RATED THRUST EPR：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="esomrte" name="esomrte" data-options="" style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 100px;">Evaluation：</th>
                    <td colspan="3">
                                <textarea class="easyui-textbox " id="conclusion6" name="testEva" multiline="true"
                                          style="height:200px;width: 99%;border: 1px solid #ddd;border-radius: 5px;"
                                          data-options=""></textarea>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;">维护人：</th>
                    <td class="tdr">
                        <input class="easyui-textbox modifyName" id="modifyName6" name="modifyName" style="width: 200px;" data-options="onlyview:true,editable:false"/>
                    </td>
                    <th style="width: 165px;">维护日期：</th>
                    <td class="tdr">
                        <input class="easyui-datebox modifyDate" id="modifyDate6" name="modifyDate" style="width: 200px;" data-options="onlyview:true,editable:false"/>
                    </td>
                </tr>
                <tr>
                    <td class="tdr" colspan="4" >
                        <fieldset id="att6" class="fieldset_eui" style="border-width: 1px; border-color: #008000;">
                            <legend data-i18n="">附件：</legend>
                            <input class="btn btn-primary btnTr" type="button" id="uploadBtn6" onclick="uploadInt('6')" style="margin: 10px;margin-left:700px" value="上传"/>
                            <table id='dg6'>
                            </table>
                        </fieldset>
                    </td>
                </tr>
                <tr style="height: 90px">
                    <td colspan="4"></td>
                </tr>
            </table>
        </form>
    </div>
    <div id="tab7" title="Borescope Inspection Report" style="">
        <form class="form-horizontal m-t" id="mform7">
            <input name="pkid" id="pkid7" type="hidden">
            <input name="preEvaId" class="preEvaId" type="hidden">
            <table class="table table-bordered table-info" style="width: 98%">
                <tr class ="btnTr">
                    <td colspan="4" align="right" >
                        <fieldset class="fieldset_eui">
                            <input class="btn btn-primary" type="button" id="default7" onclick="defau('7')" style="margin: 5px;" value="批量默认"/>
                            <input class="btn btn-primary" auth="ENG_INT_PRE_EVA17" type="button" id="saveBtn7" onclick="save('7')" style="margin: 5px;" value="保存"/>
                        </fieldset>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;"><span style="color: red">*</span>As of Date：</th>
                    <td class="tdr">
                        <input class="easyui-datebox" id="bsiDate" name="bsiDate" data-options="editable:false" style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;"><span style="color: red">*</span>TSN：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="tsn7" name="tsn" data-options="validType:['floatLength[10,2]']"  style="width: 200px;"/>
                    </td>
                    <th style="width: 165px;"><span style="color: red">*</span>CSN：</th>
                    <td class="tdr">
                        <input class="easyui-textbox easyui-numberbox" id="csn7" name="csn"  data-options="validType:['length[1,8]']" missingMessage="必须填写8位以内整数!" style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;"><span style="color: red">*</span>TSO：</th>
                    <td class="tdr">
                        <input class="easyui-textbox" id="tso7" name="tso"   data-options="validType:['floatLength[10,2]']"  style="width: 200px;"/>
                    </td>
                    <th style="width: 165px;"><span style="color: red">*</span>CSO：</th>
                    <td class="tdr">
                        <input class="easyui-textbox easyui-numberbox" id="cso7" name="cso"  data-options="validType:['length[1,8]']" missingMessage="必须填写8位以内整数!"  style="width: 200px;"/>
                    </td>
                </tr>
                <tr>
                    <th style="width: 100px;"><span style="color: red">*</span>LPT：</th>
                    <td colspan="3">
                                <textarea class="easyui-textbox " id="lpt" name="lpt" multiline="true"
                                          style="height:100px;width: 99%;border: 1px solid #ddd;border-radius: 5px;"
                                           ></textarea>
                    </td>
                </tr>
                <tr>
                    <th style="width: 100px;"><span style="color: red">*</span>IPC：</th>
                    <td colspan="3">
                                <textarea class="easyui-textbox " id="ipc" name="ipc" multiline="true"
                                          style="height:100px;width: 99%;border: 1px solid #ddd;border-radius: 5px;"
                                           ></textarea>
                    </td>
                </tr>
                <tr>
                    <th style="width: 100px;"><span style="color: red">*</span>LPC：</th>
                    <td colspan="3">
                                <textarea class="easyui-textbox " id="lpc" name="lpc" multiline="true"
                                          style="height:100px;width: 99%;border: 1px solid #ddd;border-radius: 5px;"
                                           ></textarea>
                    </td>
                </tr>
                <tr>
                    <th style="width: 100px;"><span style="color: red">*</span>HPC：</th>
                    <td colspan="3">
                                <textarea class="easyui-textbox " id="hpc" name="hpc" multiline="true"
                                          style="height:100px;width: 99%;border: 1px solid #ddd;border-radius: 5px;"
                                           ></textarea>
                    </td>
                </tr>
                <tr>
                    <th style="width: 100px;"><span style="color: red">*</span>CC：</th>
                    <td colspan="3">
                                <textarea class="easyui-textbox " id="cc" name="cc" multiline="true"
                                          style="height:100px;width: 99%;border: 1px solid #ddd;border-radius: 5px;"
                                           ></textarea>
                    </td>
                </tr>
                <tr>
                    <th style="width: 100px;"><span style="color: red">*</span>HPT：</th>
                    <td colspan="3">
                                <textarea class="easyui-textbox " id="hpt" name="hpt" multiline="true"
                                          style="height:100px;width: 99%;border: 1px solid #ddd;border-radius: 5px;"
                                           ></textarea>
                    </td>
                </tr>
                <tr>
                    <th style="width: 100px;"><span style="color: red">*</span>IPT：</th>
                    <td colspan="3">
                                <textarea class="easyui-textbox " id="ipt" name="ipt" multiline="true"
                                          style="height:100px;width: 99%;border: 1px solid #ddd;border-radius: 5px;"
                                           ></textarea>
                    </td>
                </tr>
                <tr>
                    <th style="width: 100px;"><span style="color: red">*</span>Evaluation：</th>
                    <td colspan="3">
                                <textarea class="easyui-textbox " id="conclusion7" name="bsiEva" multiline="true"
                                          style="height:200px;width: 99%;border: 1px solid #ddd;border-radius: 5px;"
                                           ></textarea>
                    </td>
                </tr>
                <tr>
                    <th style="width: 165px;">维护人：</th>
                    <td class="tdr">
                        <input class="easyui-textbox modifyName" id="modifyName7" name="modifyName" style="width: 200px;" data-options="onlyview:true,editable:false"/>
                    </td>
                    <th style="width: 165px;">维护日期：</th>
                    <td class="tdr">
                        <input class="easyui-datebox modifyDate" id="modifyDate7" name="modifyDate" style="width: 200px;" data-options="onlyview:true,editable:false"/>
                    </td>
                </tr>
                <tr>
                    <td class="tdr" colspan="4" >
                        <fieldset id="att7" class="fieldset_eui" style="border-width: 1px; border-color: #008000;">
                            <legend data-i18n="">附件：</legend>
                            <input class="btn btn-primary btnTr" type="button" id="uploadBtn7" onclick="uploadInt('7')" style="margin: 10px;margin-left:700px" value="上传"/>
                            <table id='dg7'>
                            </table>
                        </fieldset>
                    </td>
                </tr>
                <tr style="height: 90px">
                    <td colspan="4"></td>
                </tr>
            </table>
        </form>
    </div>

</div>
<script>
    var param = {};
    var operation;
    var pkid;
    var flag;
    var esn;
    var userLogin = getLoginInfo();
    var userId = userLogin.accountId;
    var userName = userLogin.userName;
    function i18nCallBack() {
        param = getParentParam_();
        pkid = param.pkid;
        operation = param.operation;
        flag = param.flag;
        esn = param.esn;
        InitFuncCodeRequest_({
            data: {
                domainCode: "ENG_ZZFROM,ENG_INT_THRUST,ENG_INT_MOD_LEVEL,YESORNO,ENG_THRUST_RATING" +
                ",ENG_IF_INT_EVA,ENG_PRE_PRE_SUMMARY",
                FunctionCode: "ANALYSIS_DOMAIN_BYCODE"
            },async:false,
            successCallBack: function (jdata) {
                if (jdata.code == RESULT_CODE.SUCCESS_CODE) {
                    InitGatewayRequest_({
                        type: "get",
                        async: false,
                        path: "/meng-engine/baseOwn/getEngTypeNewRepair",
                        successCallBack: function (jdata) {
                            if (jdata.success == true) {
                                $('#engType').combobox({
                                    data: jdata.obj,
                                    valueField: 'VALUE',
                                    textField: 'TEXT',
                                    panelHeight: '150px',
                                });
                            } else {
                                MsgAlert({content: '获取发动机型号列表失败', type: 'error'});
                            }
                        }
                    });
                    InitGatewayRequest_({
                        type: "get",
                        async: false,
                        path: "/meng-engine/baseOwn/getEngTypeNew",
                        successCallBack: function (jdata) {
                            if (jdata.success == true) {
                                $('#epn').combobox({
                                    data: jdata.obj,
                                    valueField: 'VALUE',
                                    textField: 'TEXT',
                                    panelHeight: '150px',
                                });
                            } else {
                                MsgAlert({content: '获取发动机型号列表失败', type: 'error'});
                            }
                        }
                    });
                    $('#thrustRating6').combobox({
                        panelHeight: '150px',
                        data: jdata.data.ENG_THRUST_RATING,
                        valueField: 'VALUE',
                        textField: 'TEXT'
                    });

                    $('#pres').combobox({
                        panelHeight: '150px',
                        data: jdata.data.YESORNO,
                        valueField: 'VALUE',
                        textField: 'TEXT',
                        onSelect: function (item) {
                            if(item.TEXT=='是'){
                                $("#presDate").datebox({editable:true,required:true,onlyview:false});
                            }else{
                                $("#presDate").datebox('setValue','');
                                $("#presDate").datebox({editable:false,required:false,onlyview:true});

                            }
                        }
                    });
                    $('#ifIntEva').combobox({
                        panelHeight: '150px',
                        data: jdata.data.ENG_IF_INT_EVA,
                        valueField: 'VALUE',
                        textField: 'TEXT',
                        onSelect: function (data) {
                            setIfIntEva(data.VALUE);
                        }
                    });
                    $('#sumary').combobox({
                        panelHeight: '150px',
                        data: jdata.data.ENG_PRE_PRE_SUMMARY,
                        valueField: 'VALUE',
                        textField: 'TEXT'
                    });
                    $('#zzfrom').combobox({
                        panelHeight: '150px',
                        data: jdata.data.ENG_ZZFROM,
                        valueField: 'VALUE',
                        textField: 'TEXT',
                        onSelect: function (item) {
                            if(item.TEXT=='随机引进'){
                                $("#fh").textbox({editable:true,required:true,onlyview:false});
                                $("#fc").textbox({editable:true,required:true,onlyview:false});
                            }else{
                                $("#fh").textbox('setValue','');
                                $("#fc").textbox('setValue','');
                                $("#fh").textbox({editable:false,required:false,onlyview:true});
                                $("#fc").textbox({editable:false,required:false,onlyview:true});
                            }
                        }
                    });
                    $('#repairLevel').combobox({
                        panelHeight: '150px',
                        data: jdata.data.ENG_INT_MOD_LEVEL,
                        valueField: 'VALUE',
                        textField: 'TEXT'
                    });
                    $('.llpType').combobox({
                        panelHeight: '150px',
                        data: jdata.data.ENG_INT_THRUST,
                        valueField: 'VALUE',
                        textField: 'TEXT'
                    });
                    $('.thrustRating').combobox({
                        panelHeight: '150px',
                        data: jdata.data.ENG_INT_THRUST,
                        valueField: 'VALUE',
                        textField: 'TEXT'
                    });
                    $('#unitRepire4a').hide();
                    if(operation == "view"){
                        $(".easyui-textbox").textbox({required:false,editable:false,onlyview:true});
                        $(".easyui-combobox").combobox({required:false,editable:false,onlyview:true});
                        $(".easyui-datebox").datebox({required:false,editable:false,onlyview:true});
                        $("#closeReason").textbox({required:false});
                        $('.btnTr').hide();
                        $('#unitRepire4a').show();
                    }else{
                        $(".modifyName").textbox('setValue',userName);
                        $(".modifyDate").datebox('setValue',new Date().Format('yyyy-MM-dd'));
                    }

                    if(pkid){
                        InitSubPkid(pkid);
                        InitDataForm('1',pkid);
                        InitDataGrid('1',pkid, 'engIntPreEva');
                    }
                    /**实现tab切换后保存，并刷新*/
                    $('#tt').tabs({
                        onSelect: function (title) {
                            var num = '';
                            var vpkid = '';
                            var cat = '';
                            if (title == 'AD Status Report') {
                                num = '2';
                                cat = 'engIntAd';
                            }
                            if (title == 'LLP Limiter') {
                                num = '3';
                                cat = 'engIntLlpLimiter';
                            }
                            if (title == 'Last Performance Restoration Report') {
                                num = '4';
                                cat = 'engIntRepair';
                            }
                            if (title == 'Performace Data Report for last 6 months') {
                                num = '5';
                                cat = 'engIntPer';
                            }
                            if (title == 'Last onwing Ground Run MPA Report') {
                                num = '6';
                                cat = 'engIntTest';
                            }
                            if (title == 'Borescope Inspection Report') {
                                num = '7';
                                cat = 'engIntBsi';
                            }

                            if (title == 'Engine Basic info' || title == 'Conclusion') {
                                if(title == 'Engine Basic info'){
                                    num = '1';
                                    cat = 'engIntPreEva';
                                }else if(title == 'Conclusion'){
                                    num = '8';
                                    $('pkid8').val(pkid);
                                    cat = 'engIntPreConclution';
                                }
                                vpkid = pkid;
                            }else{
                                vpkid = $("#mform"+num+" #pkid"+num).val();
                            }
                            if(vpkid){
                                InitDataForm(num,vpkid);
                                InitDataGrid(num,vpkid, cat);
                            }
                        }
                    });
                } else {
                    MsgAlert({content: jdata.msg, type: 'error'});
                }
            }
        });

        var zzfrom = $("#zzfrom").combobox("getValue");
        if(zzfrom=='1'){
            $("#fh").textbox({editable:true,onlyview:false});
            $("#fc").textbox({editable:true,onlyview:false});
        }else{
            $("#fh").textbox('setValue','');
            $("#fc").textbox('setValue','');
            $("#fh").textbox({editable:false,onlyview:true});
            $("#fc").textbox({editable:false,onlyview:true});
        }
    }

    function setIfIntEva(temp) {
        if(temp == 'N'){
            $("#sumary").combobox({required:true});
        }else{
            $("#sumary").combobox({required:false});
        }
    }

    //初始化子表pkid
    function InitSubPkid(pkid){
        $('#pkid8').val(pkid);
        var intform = '';
        var intpath = '/meng-engine/engIntPreEva/getSubPkid';
        InitGatewayRequest_({
            async: false,
            path: intpath,
            data: {pkid:pkid},
            successCallBack: function (jdata) {
                if (jdata.success == true) {
                    var data = jdata.obj;
                    if (data != null) {
                        var tempId = '';
                        for(var i=2;i<=7;i++){
                            tempId = "pkid"+i;
                            intform = "#mform"+i;
                            $(intform+" #pkid"+i).val(data[tempId]);//取数组中的key
                        }
                    }
                } else {
                    MsgAlert({content: "初始化子表pkid失败!", type: 'error'});
                }
            }
        });
    }


    //回显
    function InitDataForm(num,pkid) {
        var intpath = '';
        if(num == '1' || num == '8'){
            //给所有页面的外键赋值
            $(".preEvaId").val(pkid);
            intpath = "/meng-engine/engIntPreEva/selectById" + "/" + pkid;
        }else if(num == '2'){
            intpath = "/meng-engine/engIntAd/selectById" + "/" + pkid;
        }else if(num == '3'){
            intpath = "/meng-engine/engIntLlpLimiter/selectById" + "/" + pkid;
        }else if(num == '4'){
            intpath = "/meng-engine/engIntRepair/selectById" + "/" + pkid;
        }else if(num == '5'){
            intpath = "/meng-engine/engIntPer/selectById" + "/" + pkid;
        }else if(num == '6'){
            intpath = "/meng-engine/engIntTest/selectById" + "/" + pkid;
        }else if(num == '7'){
            intpath = "/meng-engine/engIntBsi/selectById" + "/" + pkid;
        }
        InitGatewayRequest_({
            type: "get",
            async: false,
            path: intpath,
            successCallBack: function (jdata) {
                if (jdata.success == true) {
                    ParseFormField_(jdata.obj, $("#mform"+num));
                } else {
                    MsgAlert({content: '操作失败', type: 'error'});
                }
            }
        });
    }

    //保存
    function save(num) {
        var intform= "#mform"+num;
        var isValidate = $(intform).form('validate');
        if (!isValidate) {
            return;
        }
        var $form = $(intform);
        var datas = $form.serializeObject();
        var intpath = '';
        var mpkid = '';
        if(num != '1'){
            mpkid = $("#mform1 #pkid1").val();
            if(!mpkid){
                alert("请先保存Engine Basic info!");
                return;
            }
        }
        if(num == '1' || num == '8'){
            //1.保存Engine Basic info
            intpath = '/meng-engine/engIntPreEva/addOrEditIntPreEva';
        }else if(num == '2'){
            //2.AD Status Report
            intpath = '/meng-engine/engIntAd/addOrEditIntAd';
        }else if(num == '3'){
            //3.LLP Limiter
            intpath = '/meng-engine/engIntLlpLimiter/addOrEditIntLlpLimiter';
        }else if(num == '4'){
            //4.Last Performance Restoration Report
            intpath = '/meng-engine/engIntRepair/addOrEditIntRepair';
        }else if(num == '5'){
            //5.Performace Data Report for last 6 months
            intpath = '/meng-engine/engIntPer/addOrEditIntPer';
        }else if(num == '6'){
            //6.Last onwing Ground Run MPA Report
            intpath = '/meng-engine/engIntTest/addOrEditIntTest';
        }else if(num == '7'){
            //7.Borescope Inspection Report
            intpath = '/meng-engine/engIntBsi/addOrEditIntBsi';
        }
        InitGatewayRequest_({
            async: false,
            path: intpath,
            data: datas,
            successCallBack: function (jdata) {
                if (jdata.success == true) {
                    var data = jdata.obj;
                    if (data != null) {
                        $(intform+" #pkid"+num).val(data.pkid);
                        if(num == '1'){
                            pkid = data.pkid;
                            var mpkid = $("#mform1 #pkid1").val();
                            $(".preEvaId").val(mpkid);
                            InitSubPkid(mpkid);
                        }
                        operation = 'edit';
                        MsgAlert({content: jdata.msg ? jdata.msg : $.i18n.t('msg_tip:TIP.COMMON.OPT_SUCCESS')});
                        param.OWindow.reload_();
                    }
                } else {
                    MsgAlert({content: "保存失败!", type: 'error'});
                }
            }
        });
    }


    //上传附件
    function uploadInt(num) {
        var pkid = $("#mform"+num+" #pkid"+num).val();
        if(!pkid){
            MsgAlert({content: "请先保存上面表单信息!", type: 'error'});
            return;
        }
        var category = 'engInt';
        var dg = 'dg'+num;
        if(dg == 'dg1'){
            category = 'engIntPreEva';
        }else if(dg == 'dg2'){
            category = 'engIntAd';
        }else if(dg == 'dg3'){
            category = 'engIntLlpLimiter';
        }else if(dg == 'dg4'){
            category = 'engIntRepair';
        }else if(dg == 'dg5'){
            category = 'engIntPer';
        }else if(dg == 'dg6'){
            category = 'engIntTest';
        }else if(dg == 'dg7'){
            category = 'engIntBsi';
        }else if(dg == 'dg8'){
            category = 'engIntPreConclution';
        }
        common_uploadFile2({
            identity: dg,
            param: {
                cat: category,
                sourceId: pkid,
                successCellBack: function () {
                    reloadAtt(num,pkid, category);
                },
                fialCellBack: ""
            }
        });
    }

    //初始化附件列表
    function InitDataGrid(num,pkid, category) {
        InitFuncCodeRequest_({
            data: {
                SOURCE_ID: pkid,
                CATEGORY: category,
                FunctionCode: 'ATTACHMENT_RSPL_GET'
            },
            successCallBack: function (jdata) {
                var trHTML = '';
                var dg = "#dg"+num;
                var temp = "dg"+num;
                var attr = '';
                if(window.document.getElementById(temp) != null){
                    attr = window.document.getElementById(temp).innerHTML;
                }
                if(attr){
                    window.document.getElementById(temp).innerHTML = '';
                }
                if (operation == "view") {
                    for (var i = 0; i < jdata.data.length; i++) {
                        trHTML = '<tr align="left"><td class="td5" align="left" style="text-align:left;"><a target="_blank" onclick="downFile(' + jdata.data[i].PKID + ',' + jdata.data[i].PKID + ')">' + jdata.data[i].ORG_NAME + '</a></td></tr>';
                        $(dg).append(trHTML);//在table最后面添加一行
                    }
                } else {
                    for (var i = 0; i < jdata.data.length; i++) {
                        trHTML = '<tr align="left"><td class="td5" align="left" style="text-align:left;"><a target="_blank" onclick="downFile(' + jdata.data[i].PKID + ',' + jdata.data[i].PKID + ')">'
                            + jdata.data[i].ORG_NAME + '</a></td><td class="td5" align="left" style="text-align:left;"><input class="btn btn-primary" type="button"  value="删除" style="width: 50px;margin:5px;" ' +
                            'onclick="deleteFile('+ jdata.data[i].PKID+ ','+ num+ ',\''+ pkid+ '\',\''+ category +'\''+ ');return false;"/></td></tr>';
                        $(dg).append(trHTML);//在table最后面添加一行
                    }
                }
            }
        });
    }


    //删除附件
    function deleteFile(attPkid,num,pkid, category) {
        if (!confirm("是否刪除"))
            return;
        InitFuncCodeRequest_({
            data: {pkid: attPkid, FunctionCode: 'ATTACHMENT_DEL'}, async: false,
            successCallBack: function (jdata) {
                if (jdata.code == 200) {
                    MsgAlert({content: jdata.msg ? jdata.msg : $.i18n.t('msg_tip:TIP.COMMON.OPT_SUCCESS')});
                    reloadAtt(num,pkid, category);
                }
            }
        });
    }

    function reloadAtt(num,pkid, category){
        InitDataGrid(num,pkid, category);
    }

    //批量默认
    function defau(num){
        if (!confirm("确认批量默认？")){
            return;
        }
        var intform= "#mform"+num;
        var tsn = '';
        var csn = '';
        var tso = '';
        var cso = '';
        var llpLimiter = '';
        var llpEva = '';
        var conclusion = '';
        var ifIntEva = $('#ifIntEva').textbox('getValue');
        if(num == '3' || num == '4' || num == '5' || num == '6' || num == '7' || num == '8'){
            if(num == '4'){
                tsn = $(intform+" #tsn"+num).textbox('getValue');
                csn = $(intform+" #csn"+num).textbox('getValue');
            }else if(num == '7'){
                tsn = $(intform+" #tsn"+num).textbox('getValue');
                csn = $(intform+" #csn"+num).textbox('getValue');
                tso = $(intform+" #tso"+num).textbox('getValue');
                cso = $(intform+" #cso"+num).textbox('getValue');
            }else if(num == '3'){
                llpLimiter = $('#llpLimiter').textbox('getValue');
                llpEva = $('#llpEva').textbox('getValue');
            }
            if(num != '3'){
                conclusion = $(intform+" #conclusion"+num).textbox('getValue');
            }
        }
        $(intform+" .easyui-textbox").textbox('setValue','Not provided');
        $(intform+" .easyui-combobox").textbox('setValue','Not provided');
        $('#ifIntEva').textbox('setValue',ifIntEva);
        if(num == '3' || num == '4' || num == '5' || num == '6' || num == '7' || num == '8'){
            if(num == '4'){
                $(intform+" #tsn"+num).textbox('setValue',tsn);
                $(intform+" #csn"+num).textbox('setValue',csn);
            }else if(num == '7'){
                $(intform+" #tsn"+num).textbox('setValue',tsn);
                $(intform+" #csn"+num).textbox('setValue',csn);
                $(intform+" #tso"+num).textbox('setValue',tso);
                $(intform+" #cso"+num).textbox('setValue',cso);
            }else if(num == '3'){
                $('#llpLimiter').textbox('setValue',llpLimiter);
                $('#llpEva').textbox('setValue',llpEva);
            }
            if(num != '3'){
                $(intform+" #conclusion"+num).textbox('setValue',conclusion);
            }
        }
        if(operation != "view"){
            $('.modifyName').textbox('setValue',userName);
        }
    }

    function unitRepair(){
        var epn = $('#epn').combobox('getValue');
        var repairId = $('#pkid4').val();
        if(!repairId){
            MsgAlert({content: "请先保存Last Performance Restoration Report的表单信息!", type: 'error'});
            return;
        }
        var preEvaId = $('.preEvaId').val();
        var title_ = $.i18n.t('维护单元体修理级别');
        ShowWindowIframe({
            width: "800",
            height: "650",
            title: title_,
            param: {repairId: repairId,preEvaId:preEvaId,operation:operation,epn:epn,flag:'pre'},
            url: "/views/engine/engIntPreEva/eng_int_repair_units.shtml"
        });
    }


</script>
</body>
</html>
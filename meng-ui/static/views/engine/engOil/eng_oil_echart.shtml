<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head id="i18n_" module="">
    <!--#include virtual="/views/items/resource_.shtml"-->
    <title>滑耗查询</title>
</head>
<body>
<div style="width:95%;margin:0 auto;">
    <!-- 为 ECharts 准备一个具备大小（宽高）的 DOM -->
    <div id="main" style="width:1000px;height:800px;"></div>
</div>
<script>
    var param = {};
    var pkid;
    function i18nCallBack() {
        debugger;
        param = getParentParam_();
        pkid = param.pkid;
        loadEcharts();
    }

    function loadEcharts() {
        debugger;
        var  series_data;
        var   data;
        var   xAxis_data ;
       InitGatewayRequest_({
            type: "get",
            async: false,
            path: "/meng-engine/oil/queryEchart",
            successCallBack: function (jdata) {
                debugger;
                if (jdata.success == true) {
                        series_data = jdata.obj.seriesDatalist;
                        data= jdata.obj.data.split(",");
                        xAxis_data= jdata.obj.xAxis_data.split(",");
                } else {
                    MsgAlert({content: '获取发动机型号列表失败', type: 'error'});
                }
            }
        });

        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('main'));
        // 指定图表的配置项和数据
        option = {
            title: {
                text: '发动机XXX折线图'
            },
            tooltip: {
                trigger: 'axis'
            },
            legend: {
                data: data
            },

            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            toolbox: {
                feature: {
                    saveAsImage: {}
                }
            },
            xAxis: {
                type: 'category',
                boundaryGap: false,
                data:xAxis_data
            },
            yAxis: {
                type: 'value'
            },
            series: series_data
        };
        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
    }



</script>
</body>
</html>